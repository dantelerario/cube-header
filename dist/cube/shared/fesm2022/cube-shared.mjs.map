{"version":3,"file":"cube-shared.mjs","sources":["../../../../projects/cube/shared/src/lib/services/user/user.constants.ts","../../../../projects/cube/shared/src/lib/services/user/user.service.ts","../../../../projects/cube/shared/src/lib/services/auth/auth.service.ts","../../../../projects/cube/shared/src/lib/services/websocket/websocket.constants.ts","../../../../projects/cube/shared/src/lib/services/websocket/websocket.service.ts","../../../../projects/cube/shared/src/lib/component/header.component.ts","../../../../projects/cube/shared/src/lib/component/header.component.html","../../../../projects/cube/shared/src/lib/header.module.ts","../../../../projects/cube/shared/src/public-api.ts","../../../../projects/cube/shared/src/cube-shared.ts"],"sourcesContent":["export const USER_ENDPOINTS = {\r\n    SAVE: '/user',\r\n    GET_USER: '/user',       // /{userId} verrà aggiunto dinamicamente\r\n    GET_FILTERED: '/user/all', // /{filterKey}/{page} verrà aggiunto dinamicamente\r\n    UPDATE_PICTURE: '/properties/picture',\r\n    UPDATE_ITEMS_PER_PAGE: '/properties/itemPerPage',\r\n    UPDATE_LANGUAGE: '/properties/language',\r\n    UPDATE_STATUS: '/properties/status',\r\n    GET_PERMISSIONS: '/permission' // /{userId} verrà aggiunto dinamicamente\r\n} as const;","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable,Inject } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { PermissionDto,PaginatedUsersDTO,UserDTO } from '../../types/types';\r\nimport { SharedConfig } from '../../shared.interface';\r\nimport { USER_ENDPOINTS } from './user.constants';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class UserService {\r\n    constructor(\r\n        private http: HttpClient,\r\n        @Inject('SHARED_CONFIG') private config: SharedConfig\r\n    ) { }\r\n\r\n    private getPortalUrl(endpoint: string): string {\r\n        return `${this.config.baseUrl}${this.config.separator}${this.config.basePortPortal}${endpoint}`;\r\n    }\r\n\r\n    private getBaseUrl(endpoint: string): string {\r\n        return `${this.config.baseUrl}${this.config.separator}${this.config.basePort}${endpoint}`;\r\n    }\r\n\r\n    save(): Observable<void> {\r\n        return this.http.post<void>(this.getPortalUrl(USER_ENDPOINTS.SAVE),{});\r\n    }\r\n\r\n    getUser(userId: string): Observable<UserDTO> {\r\n        return this.http.get<UserDTO>(`${this.getPortalUrl(USER_ENDPOINTS.GET_USER)}/${userId}`);\r\n    }\r\n\r\n    getUserListFiltered(filterKey: string,page: number,excludeIdChat?: string): Observable<PaginatedUsersDTO> {\r\n        return this.http.get<PaginatedUsersDTO>(\r\n            `${this.getPortalUrl(USER_ENDPOINTS.GET_FILTERED)}/${filterKey}/${page}`\r\n        );\r\n    }\r\n\r\n    updateProfilePic(picture: string | ArrayBuffer | null): Observable<boolean> {\r\n        return this.http.put<boolean>(\r\n            this.getPortalUrl(USER_ENDPOINTS.UPDATE_PICTURE),\r\n            picture\r\n        );\r\n    }\r\n\r\n    updateItemPerPage(itemPerPage: string): Observable<boolean> {\r\n        return this.http.put<boolean>(\r\n            this.getPortalUrl(USER_ENDPOINTS.UPDATE_ITEMS_PER_PAGE),\r\n            itemPerPage\r\n        );\r\n    }\r\n\r\n    updateLanguage(lang: string): Observable<boolean> {\r\n        return this.http.put<boolean>(\r\n            this.getPortalUrl(USER_ENDPOINTS.UPDATE_LANGUAGE),\r\n            lang\r\n        );\r\n    }\r\n\r\n    updateStatus(status: string): Observable<boolean> {\r\n        return this.http.put<boolean>(\r\n            this.getPortalUrl(USER_ENDPOINTS.UPDATE_STATUS),\r\n            status\r\n        );\r\n    }\r\n\r\n    getUserPermissions(userId: string): Observable<PermissionDto[]> {\r\n        return this.http.get<PermissionDto[]>(\r\n            `${this.getBaseUrl(USER_ENDPOINTS.GET_PERMISSIONS)}/${userId}`\r\n        );\r\n    }\r\n}","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable,Inject } from '@angular/core';\r\nimport { KeycloakProfile } from 'keycloak-js';\r\nimport { BehaviorSubject,catchError,filter,of,switchMap } from 'rxjs';\r\nimport { UserDTO } from '../../types/types';\r\nimport { UserService } from '../user/user.service';\r\nimport { SharedConfig } from '../../shared.interface';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n    // Proprietà per le informazioni utente\r\n    userKeycloak?: KeycloakProfile;\r\n    userDTO?: UserDTO;\r\n\r\n    // BehaviorSubjects per lo stato dell'utente\r\n    userDTOBehaviorSubject = new BehaviorSubject<UserDTO | undefined>(undefined);\r\n    userKeycloakBehaviorSubject = new BehaviorSubject<KeycloakProfile | undefined>(undefined);\r\n\r\n    // constructor(\r\n    //     private http: HttpClient,\r\n    //     private userService: UserService,\r\n    //     @Inject('SHARED_CONFIG') private config: SharedConfig\r\n    // ) {\r\n    //     // Sottoscrizione per gestire gli aggiornamenti del profilo Keycloak\r\n    //     this.userKeycloakBehaviorSubject.pipe(\r\n    //         filter(userKeycloak => !!userKeycloak),\r\n    //         switchMap(userKeycloak =>\r\n    //             userService.save().pipe(\r\n    //                 switchMap(() => userService.getUser(userKeycloak!.id!))\r\n    //             )\r\n    //         )\r\n    //     ).subscribe(userDTO => {\r\n    //         this.userDTO = userDTO;\r\n    //         this.userDTOBehaviorSubject.next(userDTO);\r\n    //     });\r\n    // }\r\n    constructor(\r\n        private http: HttpClient,\r\n        private userService: UserService,\r\n        @Inject('SHARED_CONFIG') private config: SharedConfig\r\n    ) {\r\n        // Add error handling and proper sequencing\r\n        this.userKeycloakBehaviorSubject.pipe(\r\n            filter(userKeycloak => !!userKeycloak?.id),\r\n            switchMap(userKeycloak => userService.save().pipe(\r\n                catchError(() => of(null)),\r\n                switchMap(() => userService.getUser(userKeycloak!.id!))\r\n            ))\r\n        ).subscribe({\r\n            next: userDTO => {\r\n                if (userDTO) {\r\n                    this.userDTO = userDTO;\r\n                    this.userDTOBehaviorSubject.next(userDTO);\r\n                }\r\n            },\r\n            error: () => this.reset()\r\n        });\r\n    }\r\n\r\n    // Metodo per aggiornare il profilo Keycloak\r\n    updateKeycloakProfile(profile: KeycloakProfile): void {\r\n        this.userKeycloak = profile;\r\n        this.userKeycloakBehaviorSubject.next(profile);\r\n    }\r\n\r\n    // Metodo per ottenere l'utente corrente\r\n    getCurrentUser(): UserDTO | undefined {\r\n        return this.userDTO;\r\n    }\r\n\r\n    // Metodo per resettare lo stato\r\n    reset(): void {\r\n        this.userKeycloak = undefined;\r\n        this.userDTO = undefined;\r\n        this.userDTOBehaviorSubject.next(undefined);\r\n        this.userKeycloakBehaviorSubject.next(undefined);\r\n    }\r\n}","export const WEBSOCKET_ENDPOINTS = {\r\n    // Endpoint base per la connessione WebSocket\r\n    BASE_ENDPOINT: '/cube-chat-web-socket',\r\n\r\n    // Endpoint per invio messaggi\r\n    REGISTER: '/register',\r\n    DISCONNECT: '/disconnect',\r\n    SEND_TO_ONE: '/send-to-one',\r\n    SEND_TO_GROUP: '/send-to-group',\r\n    READ_MESSAGE: '/readMessage',\r\n    AM_I_WRITING: '/am-i-writing',\r\n\r\n    // Endpoint per sottoscrizioni\r\n    PRIVATE_SUBSCRIPTION: '/private',\r\n    STATUS_SUBSCRIPTION: '/status',\r\n    IS_WRITING_SUBSCRIPTION: '/is-writing',\r\n    CHECK_SUBSCRIPTION: '/check'\r\n} as const;","import { Injectable,OnDestroy,Inject } from '@angular/core';\r\nimport { AuthService } from '../auth/auth.service';\r\nimport { KeycloakService } from 'keycloak-angular';\r\nimport { KeycloakProfile } from 'keycloak-js';\r\nimport { IsWritingDto,MessageTriggerDTO,propertiesDTO } from '../../types/types';\r\nimport * as Stomp from 'stompjs';\r\nimport * as SockJs from 'sockjs-client';\r\nimport { BehaviorSubject,Subject } from 'rxjs';\r\nimport { SharedConfig } from '../../shared.interface';\r\nimport { WEBSOCKET_ENDPOINTS } from './websocket.constants';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class WebSocketService implements OnDestroy {\r\n    stompClient?: Stomp.Client;\r\n    private subscriptions: { key: string,sub: Stomp.Subscription }[] = [];\r\n    isConnected = false;\r\n    userData?: KeycloakProfile;\r\n\r\n    private writingUsers: { [idChat: string]: string[] } = {};\r\n\r\n    newChatMessage: Subject<string | undefined> = new Subject<string | undefined>();\r\n    newStatus: Subject<propertiesDTO | undefined> = new Subject<propertiesDTO | undefined>();\r\n    othersWriting: BehaviorSubject<{ [idChat: string]: string[] }> = new BehaviorSubject<{ [idChat: string]: string[] }>({});\r\n\r\n    constructor(\r\n        private authService: AuthService,\r\n        private keycloak: KeycloakService,\r\n        @Inject('SHARED_CONFIG') private config: SharedConfig\r\n    ) { }\r\n\r\n    private getWebSocketUrl(): string {\r\n        return `${this.config.baseUrl}${this.config.separator}${this.config.basePort}${WEBSOCKET_ENDPOINTS.BASE_ENDPOINT}`;\r\n    }\r\n\r\n    connect(): void {\r\n        this.stompClient = Stomp.over(new SockJs(this.getWebSocketUrl()));\r\n        this.stompClient.connect({},() => {\r\n            console.warn(\"CONNESSO A WEB SOCKET\");\r\n            this.authService.userKeycloakBehaviorSubject.subscribe({\r\n                next: (user) => this.userData = user\r\n            });\r\n            this.isConnected = true;\r\n            this.registerUser();\r\n            this.privateSubscription();\r\n            this.statusSubscription();\r\n            this.writingSubscription();\r\n        });\r\n    }\r\n\r\n    async disconnect(): Promise<void> {\r\n        this.disconnectUser();\r\n        await this.stompClient?.disconnect(() => {\r\n            this.subscriptions.forEach((sub) => sub.sub.unsubscribe());\r\n        });\r\n        this.isConnected = false;\r\n    }\r\n\r\n    registerUser() {\r\n        this.stompClient?.send(\r\n            `${WEBSOCKET_ENDPOINTS.REGISTER}.${this.keycloak.getKeycloakInstance().subject}`\r\n        );\r\n    }\r\n\r\n    disconnectUser() {\r\n        this.stompClient?.send(WEBSOCKET_ENDPOINTS.DISCONNECT);\r\n    }\r\n\r\n    sendToOne(trigger: MessageTriggerDTO) {\r\n        this.stompClient?.send(WEBSOCKET_ENDPOINTS.SEND_TO_ONE,{},JSON.stringify(trigger));\r\n    }\r\n\r\n    amIWriting(idchat: number,isWriting: boolean): void {\r\n        this.stompClient?.send(`${WEBSOCKET_ENDPOINTS.AM_I_WRITING}.${idchat}.${isWriting}`);\r\n    }\r\n\r\n    sendToGroup(trigger: MessageTriggerDTO) {\r\n        this.stompClient?.send(WEBSOCKET_ENDPOINTS.SEND_TO_GROUP,{},JSON.stringify(trigger));\r\n    }\r\n\r\n    readMessage(id: number) {\r\n        this.stompClient?.send(`${WEBSOCKET_ENDPOINTS.READ_MESSAGE}.${id}`);\r\n    }\r\n\r\n    privateSubscription() {\r\n        this.onSubscription(\r\n            \"Private\",\r\n            this.stompClient!.subscribe(\r\n                `${WEBSOCKET_ENDPOINTS.PRIVATE_SUBSCRIPTION}.${this.keycloak.getKeycloakInstance().subject}`,\r\n                (message) => {\r\n                    this.newChatMessage.next(message.body);\r\n                }\r\n            )\r\n        );\r\n    }\r\n\r\n    statusSubscription() {\r\n        this.onSubscription(\r\n            \"Status\",\r\n            this.stompClient!.subscribe(\r\n                `${WEBSOCKET_ENDPOINTS.STATUS_SUBSCRIPTION}.${this.keycloak.getKeycloakInstance().subject}`,\r\n                (newUserStatus) => {\r\n                    this.newStatus.next(JSON.parse(newUserStatus.body));\r\n                }\r\n            )\r\n        );\r\n    }\r\n\r\n    writingSubscription() {\r\n        this.onSubscription(\r\n            \"Writing\",\r\n            this.stompClient!.subscribe(\r\n                `${WEBSOCKET_ENDPOINTS.IS_WRITING_SUBSCRIPTION}.${this.keycloak.getKeycloakInstance().subject}`,\r\n                (writingDto) => {\r\n                    const w: IsWritingDto = JSON.parse(writingDto.body);\r\n\r\n                    if (w.isWriting && (!this.writingUsers[w.chatId] || !this.writingUsers[w.chatId].includes(w.userId))) {\r\n                        if (!this.writingUsers[w.chatId]) {\r\n                            this.writingUsers[w.chatId] = [];\r\n                        }\r\n                        this.writingUsers[w.chatId].push(w.userId);\r\n                    } else if (!w.isWriting && this.writingUsers[w.chatId] && this.writingUsers[w.chatId].includes(w.userId)) {\r\n                        this.writingUsers[w.chatId].splice(this.writingUsers[w.chatId].indexOf(w.userId),1);\r\n                        if (this.writingUsers[w.chatId].length == 0) {\r\n                            delete this.writingUsers[w.chatId];\r\n                        }\r\n                    }\r\n\r\n                    this.othersWriting.next(this.writingUsers);\r\n                }\r\n            )\r\n        );\r\n    }\r\n\r\n    onSubscription(key: string,sub: Stomp.Subscription) {\r\n        for (let i = 0; i < this.subscriptions.length; i++) {\r\n            if (this.subscriptions[i].key == key) {\r\n                this.subscriptions[i].sub.unsubscribe();\r\n                this.subscriptions.splice(i,1);\r\n            }\r\n        }\r\n        this.subscriptions.push({ key: key,sub: sub });\r\n    }\r\n\r\n    checkMessageSubscription(idChat: string,callBack: ((message: Stomp.Message) => any)) {\r\n        this.onSubscription(\r\n            \"Check\",\r\n            this.stompClient!.subscribe(\r\n                `${WEBSOCKET_ENDPOINTS.CHECK_SUBSCRIPTION}.${idChat}.${this.keycloak.getKeycloakInstance().subject}`,\r\n                callBack\r\n            )\r\n        );\r\n    }\r\n\r\n    checkmessageUnsubscribe() {\r\n        for (let i = 0; i < this.subscriptions.length; i++) {\r\n            if (this.subscriptions[i].key == 'Check') {\r\n                this.subscriptions[i].sub.unsubscribe();\r\n                this.subscriptions.splice(i,1);\r\n            }\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.disconnect();\r\n    }\r\n}","import { Component,OnInit,Inject } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { faCube } from '@fortawesome/free-solid-svg-icons';\nimport { KeycloakService } from 'keycloak-angular';\nimport { KeycloakLoginOptions } from 'keycloak-js';\nimport { SharedConfig } from '../shared.interface';\nimport { AuthService } from '../services/auth/auth.service';\nimport { UserService } from '../services/user/user.service';\nimport { WebSocketService } from '../services/websocket/websocket.service';\nimport { Language,Status,UserDTO } from '../types/types';\n\n@Component({\n  selector: 'cube-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit {\n  userDTO?: UserDTO;\n  imgSrc?: string = 'assets/images/profile.jpg';\n  icon = faCube;\n  languages: Language[] = [];\n  isNavbarCollapsed = true;\n  keycloakLoginOptions: KeycloakLoginOptions;\n\n  stati: Status[] = [\n    {\n      name: 'online',\n      iconPath: 'assets/images/ONLINE.png',\n    },\n    {\n      name: 'busy',\n      iconPath: 'assets/images/BUSY.png',\n    },\n    {\n      name: 'invisible',\n      iconPath: 'assets/images/INVISIBLE.png',\n    },\n  ];\n\n  constructor(\n    private keycloak: KeycloakService,\n    private translateService: TranslateService,\n    private auth: AuthService,\n    private webSocket: WebSocketService,\n    private userService: UserService,\n    @Inject('SHARED_CONFIG') private config: SharedConfig\n  ) {\n    console.log('HeaderComponent costruttore chiamato');\n    this.keycloakLoginOptions = { \n      redirectUri: this.config.loginRedirectChatHomePage,\n    };\n    this.languages = [\n      {\n        name: 'English',\n        langIdentifier: 'en-EN',\n        flagPath: 'assets/images/en-EN.png',\n      },\n      {\n        name: 'Italiano',\n        langIdentifier: 'it-IT',\n        flagPath: 'assets/images/it-IT.png',\n      },\n      {\n        name: 'Français',\n        langIdentifier: 'fr-FR',\n        flagPath: 'assets/images/fr-FR.png',\n      }\n    ].sort();\n  }\n\n  // ngOnInit(): void {\n  //   this.auth.userDTOBehaviorSubject.subscribe({\n  //     next: (receivedUserDTO: any) => {\n  //       this.userDTO = receivedUserDTO;\n  //       if (this.userDTO?.propertiesDTO?.defaultLanguage) {\n  //         this.translateService.use(this.userDTO.propertiesDTO.defaultLanguage);\n  //       }\n  //     },\n  //   });\n  // }\n\n  ngOnInit(): void {\n    this.keycloak.isLoggedIn().then(isLoggedIn => {\n      if (isLoggedIn) {\n        this.keycloak.loadUserProfile().then(profile => {\n          this.auth.updateKeycloakProfile(profile);\n        });\n      }\n    });\n\n    this.auth.userDTOBehaviorSubject.subscribe({\n      next: (receivedUserDTO) => {\n        if (receivedUserDTO) {\n          this.userDTO = receivedUserDTO;\n          if (receivedUserDTO.propertiesDTO?.defaultLanguage) {\n            this.translateService.use(receivedUserDTO.propertiesDTO.defaultLanguage);\n          }\n        }\n      }\n    });\n  }\n  login() {\n    this.keycloak.login(this.keycloakLoginOptions);\n  }\n\n  logout(): void {\n    this.webSocket.disconnect().then(() => {\n      this.keycloak.logout(this.config.redirectUri);\n    });\n  }\n\n  changeLanguage(lang: string) {\n    this.translateService.use(lang);\n  }\n\n  updateStatus(status: string) {\n    this.userService.updateStatus(status).subscribe({\n      next: (response) => {\n        if (response && this.userDTO) {\n          this.userDTO.propertiesDTO!.status = status;\n          this.auth.userDTOBehaviorSubject.next(this.userDTO);\n        }\n      },\n    });\n  }\n}","<nav class=\"navbar navbar-expand-xl\">\r\n    <div class=\"container-fluid\">\r\n\r\n        <!-- ## NAVBAR HOME TO PORTAL ## -->\r\n        <div class=\"navbar-brand\">\r\n            <a href=\"https://docmon.pccube.com/portal\">\r\n                <img alt=\"cubePortalLogo\" class=\"home\" src=\"assets/images/pccube-solo-cubo.png\">\r\n            </a>\r\n        </div>\r\n\r\n        <!-- ## NAVBAR LOGO ## -->\r\n        <div class=\"navbar-brand\">\r\n            <img alt=\"cubeChatLogo\" routerLink=\"/\" style=\"cursor:pointer;width: 275px; height: 50px;\"\r\n                src=\"assets/images/pccube.png\">\r\n        </div>\r\n\r\n        <!-- ## NAVBAR TOGGLER - QUANDO SCHERMO PICCOLO ## -->\r\n        <button class=\"navbar-toggler shadow-none\" (click)=\"isNavbarCollapsed = !isNavbarCollapsed\">\r\n            <span>\r\n                <img alt=\"navbarToggler\" src=\"assets/images/navbar-toggler.png\">\r\n            </span>\r\n        </button>\r\n\r\n        <!-- ## CORPO DELLA NAVBAR COLLASSABILE ## -->\r\n        <div class=\"collapse navbar-collapse justify-content-end\" [ngbCollapse]=\"isNavbarCollapsed\">\r\n            <!-- ## LISTA DEGLI ELEMENTI DELLA NAVBAR ## -->\r\n            <ul class=\"list-group list-group-horizontal align-items-center justify-content-center\">\r\n\r\n                <!-- ## NOME E COGNOME UTENTE - SOLO TESTO ## -->\r\n                <li *ngIf=\"isNavbarCollapsed\" class=\"list-group-item\">\r\n                    <div class=\"nav-link user-menu\">\r\n                        {{userDTO?.name}} {{userDTO?.surname}}\r\n                    </div>\r\n                </li>\r\n\r\n                <li *ngIf=\"userDTO\" ngbDropdown class=\"list-group-item\">\r\n                    <div ngbDropdown class=\"dropdown\">\r\n                        <button ngbDropdownToggle class=\"user-menu\">\r\n                            <img alt=\"user status\" src=\"assets/images/{{ userDTO!.propertiesDTO!.status }}.png\" />\r\n                        </button>\r\n                        <div ngbDropdownMenu>\r\n                            <button *ngFor=\"let status of stati\" class=\"btn\" ngbDropdownItem\r\n                                (click)=\"updateStatus(status.name)\">\r\n                                <img class=\"me-2\" alt=\"{{status.name}}\" src=\"{{ status.iconPath }}\" />\r\n                                {{\"generic.\" + status.name | translate}}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n\r\n                <!-- ## USER MENU ## -->\r\n                <li ngbDropdown class=\"list-group-item\">\r\n                    <button *ngIf=\"!userDTO\" class=\"user-menu\" (click)=\"login()\">{{'Login'}}</button>\r\n                    <div *ngIf=\"userDTO\">\r\n                        <button ngbDropdownToggle class=\"user-menu\">\r\n                            <img alt=\"profilePicture\" class=\"rounded-5\" src=\"{{userDTO.propertiesDTO?.profilePicture}}\"\r\n                                width=\"32\" height=\"32\">\r\n                        </button>\r\n                        <div ngbDropdownMenu class=\"dropdown-menu\">\r\n                            <button ngbDropdownItem routerLink=\"/profile\">{{\"generic.profile\"|translate}}</button>\r\n                            <button ngbDropdownItem (click)=\"logout()\">{{'Logout'}}</button>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n\r\n                <!-- ## LANGUAGE SELECTOR ## -->\r\n                <li ngbDropdown class=\"list-group-item\">\r\n                    <button ngbDropdownToggle class=\"user-menu\">\r\n                        <!--\r\n                            Aggiungere salvataggio a db e update\r\n                            <img src='assets/images/{{userDto?.propertiesDTO?.defaultLanguage}}.png'>\r\n                        -->\r\n                        <img alt=\"languageFlag\" src='{{\"lang.flag-picture\" | translate}}'>\r\n                    </button>\r\n                    <div ngbDropdownMenu class=\"dropdown-menu\">\r\n                        <button *ngFor=\"let language of languages\" ngbDropdownItem\r\n                            (click)=\"changeLanguage(language.langIdentifier)\">\r\n                            <img alt=\"flagLanguageDropdown\" src='{{language.flagPath}}'>\r\n                        </button>\r\n                    </div>\r\n                </li>\r\n\r\n            </ul>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</nav>","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { RouterModule } from '@angular/router';\nimport { HeaderComponent } from './component/header.component';\nimport { AuthService } from './services/auth/auth.service';\nimport { UserService } from './services/user/user.service';\nimport { WebSocketService } from './services/websocket/websocket.service';\nimport { SharedConfig } from './shared.interface';\n\n@NgModule({\n  declarations: [HeaderComponent],\n  imports: [\n    CommonModule,\n    TranslateModule,\n    FontAwesomeModule,\n    NgbModule,\n    RouterModule\n  ],\n  exports: [HeaderComponent]\n})\nexport class HeaderModule {\n  static forRoot(config: SharedConfig): ModuleWithProviders<HeaderModule> {\n    return {\n      ngModule: HeaderModule,\n      providers: [\n        AuthService,\n        UserService,\n        WebSocketService,\n        {\n          provide: 'SHARED_CONFIG',\n          useValue: config\n        }\n      ]\n    };\n  }\n}","/*\n * Public API Surface of Cube Shared\n */\nexport * from './lib/shared.interface';\nexport * from './lib/component/header.component';\nexport * from './lib/header.module';","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i2"],"mappings":"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"}