import { Component } from '@angular/core';
import { IMAGES } from '../../constants/image-constants';
import * as i0 from "@angular/core";
import * as i1 from "../../services/auth/auth.service";
import * as i2 from "../../services/user/user.service";
import * as i3 from "@ngx-translate/core";
import * as i4 from "@angular/common";
import * as i5 from "@ng-bootstrap/ng-bootstrap";
import * as i6 from "@angular/router";
import * as i7 from "@angular/forms";
export class ProfileComponent {
    constructor(auth, userService, translateService) {
        this.auth = auth;
        this.userService = userService;
        this.translateService = translateService;
        this.applications = [];
        this.images = IMAGES;
        this.stati = [
            {
                name: 'online',
                iconPath: this.images.ONLINE
            },
            {
                name: 'busy',
                iconPath: this.images.BUSY
            },
            {
                name: 'invisible',
                iconPath: this.images.INVISIBLE
            },
        ];
        // Define an array of Language objects
        this.languages = [
            {
                name: 'English',
                langIdentifier: 'en-EN',
                flagPath: this.images.EN_EN,
            },
            {
                name: 'Italiano',
                langIdentifier: 'it-IT',
                flagPath: this.images.IT_IT,
            },
            {
                name: 'Français',
                langIdentifier: 'fr-FR',
                flagPath: this.images.FR_FR,
            },
        ];
        // Subscribe to the userDTOBehaviorSubject from the AuthService
        auth.userDTOBehaviorSubject?.subscribe({
            next: (userDto) => (this.userDto = userDto),
        });
    }
    ngOnInit() { }
    // Define a function for uploading an image
    uploadImage(input) {
        const file = input.target.files[0];
        if (file.size > 16494) {
            this.errorMsg = { message: "message.error.imageSize" };
            return;
        }
        const reader = new FileReader();
        reader.onloadend = () => {
            const result = reader.result;
            if (result) {
                this.userService.updateProfilePic(result.toString()).subscribe({
                    next: () => {
                        if (this.userDto?.propertiesDTO) {
                            this.userDto.propertiesDTO.profilePicture = result.toString();
                            this.successMsg = { message: "message.success.image" };
                            this.auth.userDTOBehaviorSubject.next(this.userDto);
                        }
                    },
                    error: (error) => {
                        this.errorMsg = { message: error.error.message, params: JSON.stringify(Object.assign({}, error.error.parameter)) };
                    }
                });
            }
        };
        reader.readAsDataURL(file);
    }
    updateItemPerPage(itemPerPage) {
        if (itemPerPage != '') {
            this.userService.updateItemPerPage(itemPerPage).subscribe({
                next: (response) => {
                    if (response && this.userDto?.propertiesDTO) {
                        this.userDto.propertiesDTO.itemPage = itemPerPage;
                        this.successMsg = { message: "message.success.item" };
                        this.auth.userDTOBehaviorSubject.next(this.userDto);
                    }
                },
                error: (error) => {
                    this.errorMsg = { message: error.error.message, params: JSON.stringify(Object.assign({}, error.error.parameter)) };
                }
            });
        }
    }
    updateLanguage(lang) {
        this.translateService.use(lang);
        this.userService.updateLanguage(lang).subscribe({
            next: () => {
                if (this.userDto?.propertiesDTO) {
                    this.successMsg = { message: "message.success.language" };
                    this.userDto.propertiesDTO.defaultLanguage = lang;
                }
            },
            error: (error) => {
                this.errorMsg = { message: error.error.message, params: JSON.stringify(Object.assign({}, error.error.parameter)) };
            }
        });
    }
    updateStatus(status) {
        this.userService.updateStatus(status).subscribe({
            next: (response) => {
                if (response && this.userDto?.propertiesDTO) {
                    this.userDto.propertiesDTO.status = status;
                    this.successMsg = { message: "message.success.status" };
                    this.auth.userDTOBehaviorSubject.next(this.userDto);
                }
            },
            error: (error) => {
                this.errorMsg = { message: error.error.message, params: JSON.stringify(Object.assign({}, error.error.parameter)) };
            }
        });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: ProfileComponent, deps: [{ token: i1.AuthService }, { token: i2.UserService }, { token: i3.TranslateService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: ProfileComponent, selector: "cube-profile", ngImport: i0, template: "<!-- header -->\r\n<ng-content select=\"cube-header\"></ng-content>\r\n\r\n\r\n<div class=\"container-fluid\">\r\n    <div class=\"row row-fluid\">\r\n        <div class=\"col-12\">\r\n            <ol class=\"breadcrumb\">\r\n                <li class=\"breadcrumb-item\"><a routerLink=\"/\">{{'Home'}}</a></li>\r\n                <li class=\"breadcrumb-item active\">{{\"Profile\" | translate}}</li>\r\n            </ol>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<main class=\"container-fluid text-center fs-6\">\r\n    <!-- Sezione immagine profilo -->\r\n    <div class=\"row row-fluid justify-content-center\">\r\n        <ng-content select=\"[messages]\"></ng-content>\r\n        <div class=\"col-12 col-xl-3\">\r\n            <img alt=\"profilePicture\" class=\"mb-2 profile\" [src]=\"userDto?.propertiesDTO?.profilePicture\" width=\"175\"\r\n                height=\"175\">\r\n            <form>\r\n                <label for=\"uploadImage\" class=\"mb-1\">{{\"generic.update-propic\" | translate}}</label>\r\n                <label class=\"btn rounded-5\">\r\n                    {{\"generic.select-file\" | translate}}\r\n                    <input style=\"display: none;\" name=\"uploadImage\" id=\"uploadImage\" class=\"rounded-5\" type=\"file\"\r\n                        (change)=\"uploadImage($event)\">\r\n                </label>\r\n            </form>\r\n        </div>\r\n\r\n        <!-- Sezione informazioni utente -->\r\n        <div class=\"col-12 col-md-12 col-xl-4\">\r\n            <div class=\"row g-4\">\r\n                <div class=\"col-12\">\r\n                    {{\"generic.name\"|translate}}: {{userDto?.name}}\r\n                </div>\r\n                <div class=\"col-12\">\r\n                    {{\"generic.surname\"|translate}}: {{userDto?.surname}}\r\n                </div>\r\n                <div class=\"col-12\">\r\n                    E-mail: {{userDto?.email}}\r\n                    <span class=\"ms-2\" *ngIf=\"userDto?.validate\">\r\n                        <img class=\"default-image\" src=\"assets/images/verified.png\" alt=\"\">\r\n                    </span>\r\n                </div>\r\n                <div class=\"col-12 mt-2\">\r\n                    <!-- Dropdown per selezionare il numero di elementi visualizzati per pagina -->\r\n                    <div class=\"d-flex justify-content-center align-items-center\">\r\n                        {{\"generic.items\"|translate}}\r\n                        <label for=\"updateItemPerPage\"></label>\r\n                        <select id=\"updateItemPerPage\" #itemPerPage class=\"form-select shadow-none ms-2\"\r\n                            (change)=\"updateItemPerPage(itemPerPage.value)\">\r\n                            <option default hidden>{{userDto?.propertiesDTO?.itemPage}}</option>\r\n                            <option>{{'5'}}</option>\r\n                            <option>{{'20'}}</option>\r\n                            <option>{{'50'}}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-12 mt-2\">\r\n                    <!-- Dropdown per selezionare la lingua di visualizzazione della pagina -->\r\n                    <div ngbDropdown class=\"dropdown\">\r\n                        <button ngbDropdownToggle class=\"btn\">\r\n                            <img alt=\"language flag\"\r\n                                src='assets/images/{{userDto?.propertiesDTO?.defaultLanguage}}.png'>\r\n                        </button>\r\n                        <div ngbDropdownMenu>\r\n                            <button *ngFor=\"let language of languages\" class=\"btn\" ngbDropdownItem\r\n                                (click)=\"updateLanguage(language.langIdentifier)\">\r\n                                <img alt=\"flagLanguageDropdown\" src='{{language.flagPath}}'>\r\n                            </button>\r\n                        </div>\r\n                        {{ \"lang.def-lang\" | translate }}\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-12 mt-2\">\r\n                    <!-- Dropdown per selezionare il nuovo status -->\r\n                    <div ngbDropdown class=\"dropdown\">\r\n                        <button ngbDropdownToggle class=\"btn\">\r\n                            <img alt=\"user status\" src=\"assets/images/{{ userDto?.propertiesDTO?.status }}.png\" />\r\n                        </button>\r\n                        <div ngbDropdownMenu>\r\n                            <button *ngFor=\"let status of stati\" class=\"btn\" ngbDropdownItem\r\n                                (click)=\"updateStatus(status.name)\">\r\n                                <img alt=\"{{status.name}}\" src=\"{{ status.iconPath }}\" />\r\n                                <span>{{\"generic.\"+status.name | translate}}</span>\r\n                            </button>\r\n                        </div>\r\n                        {{ \"generic.status\" | translate }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</main>\r\n\r\n<!-- footer -->\r\n<ng-content select=\"[footer]\"></ng-content>", styles: [".row{margin:1.125rem 1.25rem 0rem}select{max-width:5rem}.dropdown-menu{border-radius:.625rem;min-width:inherit;padding:.25rem}button:hover{background-color:transparent}.profile{object-fit:cover}.rounded-5{max-width:10rem;position:relative;left:50%;transform:translate(-50%);display:block;background-color:#130044;color:#fff}\n"], dependencies: [{ kind: "directive", type: i4.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i5.NgbDropdown, selector: "[ngbDropdown]", inputs: ["autoClose", "dropdownClass", "open", "placement", "popperOptions", "container", "display"], outputs: ["openChange"], exportAs: ["ngbDropdown"] }, { kind: "directive", type: i5.NgbDropdownToggle, selector: "[ngbDropdownToggle]" }, { kind: "directive", type: i5.NgbDropdownMenu, selector: "[ngbDropdownMenu]" }, { kind: "directive", type: i5.NgbDropdownItem, selector: "[ngbDropdownItem]", inputs: ["disabled"] }, { kind: "directive", type: i6.RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "directive", type: i7.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i7.NgSelectOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i7.ɵNgSelectMultipleOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i7.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i7.NgForm, selector: "form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]", inputs: ["ngFormOptions"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "pipe", type: i3.TranslatePipe, name: "translate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: ProfileComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cube-profile', template: "<!-- header -->\r\n<ng-content select=\"cube-header\"></ng-content>\r\n\r\n\r\n<div class=\"container-fluid\">\r\n    <div class=\"row row-fluid\">\r\n        <div class=\"col-12\">\r\n            <ol class=\"breadcrumb\">\r\n                <li class=\"breadcrumb-item\"><a routerLink=\"/\">{{'Home'}}</a></li>\r\n                <li class=\"breadcrumb-item active\">{{\"Profile\" | translate}}</li>\r\n            </ol>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<main class=\"container-fluid text-center fs-6\">\r\n    <!-- Sezione immagine profilo -->\r\n    <div class=\"row row-fluid justify-content-center\">\r\n        <ng-content select=\"[messages]\"></ng-content>\r\n        <div class=\"col-12 col-xl-3\">\r\n            <img alt=\"profilePicture\" class=\"mb-2 profile\" [src]=\"userDto?.propertiesDTO?.profilePicture\" width=\"175\"\r\n                height=\"175\">\r\n            <form>\r\n                <label for=\"uploadImage\" class=\"mb-1\">{{\"generic.update-propic\" | translate}}</label>\r\n                <label class=\"btn rounded-5\">\r\n                    {{\"generic.select-file\" | translate}}\r\n                    <input style=\"display: none;\" name=\"uploadImage\" id=\"uploadImage\" class=\"rounded-5\" type=\"file\"\r\n                        (change)=\"uploadImage($event)\">\r\n                </label>\r\n            </form>\r\n        </div>\r\n\r\n        <!-- Sezione informazioni utente -->\r\n        <div class=\"col-12 col-md-12 col-xl-4\">\r\n            <div class=\"row g-4\">\r\n                <div class=\"col-12\">\r\n                    {{\"generic.name\"|translate}}: {{userDto?.name}}\r\n                </div>\r\n                <div class=\"col-12\">\r\n                    {{\"generic.surname\"|translate}}: {{userDto?.surname}}\r\n                </div>\r\n                <div class=\"col-12\">\r\n                    E-mail: {{userDto?.email}}\r\n                    <span class=\"ms-2\" *ngIf=\"userDto?.validate\">\r\n                        <img class=\"default-image\" src=\"assets/images/verified.png\" alt=\"\">\r\n                    </span>\r\n                </div>\r\n                <div class=\"col-12 mt-2\">\r\n                    <!-- Dropdown per selezionare il numero di elementi visualizzati per pagina -->\r\n                    <div class=\"d-flex justify-content-center align-items-center\">\r\n                        {{\"generic.items\"|translate}}\r\n                        <label for=\"updateItemPerPage\"></label>\r\n                        <select id=\"updateItemPerPage\" #itemPerPage class=\"form-select shadow-none ms-2\"\r\n                            (change)=\"updateItemPerPage(itemPerPage.value)\">\r\n                            <option default hidden>{{userDto?.propertiesDTO?.itemPage}}</option>\r\n                            <option>{{'5'}}</option>\r\n                            <option>{{'20'}}</option>\r\n                            <option>{{'50'}}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-12 mt-2\">\r\n                    <!-- Dropdown per selezionare la lingua di visualizzazione della pagina -->\r\n                    <div ngbDropdown class=\"dropdown\">\r\n                        <button ngbDropdownToggle class=\"btn\">\r\n                            <img alt=\"language flag\"\r\n                                src='assets/images/{{userDto?.propertiesDTO?.defaultLanguage}}.png'>\r\n                        </button>\r\n                        <div ngbDropdownMenu>\r\n                            <button *ngFor=\"let language of languages\" class=\"btn\" ngbDropdownItem\r\n                                (click)=\"updateLanguage(language.langIdentifier)\">\r\n                                <img alt=\"flagLanguageDropdown\" src='{{language.flagPath}}'>\r\n                            </button>\r\n                        </div>\r\n                        {{ \"lang.def-lang\" | translate }}\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-12 mt-2\">\r\n                    <!-- Dropdown per selezionare il nuovo status -->\r\n                    <div ngbDropdown class=\"dropdown\">\r\n                        <button ngbDropdownToggle class=\"btn\">\r\n                            <img alt=\"user status\" src=\"assets/images/{{ userDto?.propertiesDTO?.status }}.png\" />\r\n                        </button>\r\n                        <div ngbDropdownMenu>\r\n                            <button *ngFor=\"let status of stati\" class=\"btn\" ngbDropdownItem\r\n                                (click)=\"updateStatus(status.name)\">\r\n                                <img alt=\"{{status.name}}\" src=\"{{ status.iconPath }}\" />\r\n                                <span>{{\"generic.\"+status.name | translate}}</span>\r\n                            </button>\r\n                        </div>\r\n                        {{ \"generic.status\" | translate }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</main>\r\n\r\n<!-- footer -->\r\n<ng-content select=\"[footer]\"></ng-content>", styles: [".row{margin:1.125rem 1.25rem 0rem}select{max-width:5rem}.dropdown-menu{border-radius:.625rem;min-width:inherit;padding:.25rem}button:hover{background-color:transparent}.profile{object-fit:cover}.rounded-5{max-width:10rem;position:relative;left:50%;transform:translate(-50%);display:block;background-color:#130044;color:#fff}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.AuthService }, { type: i2.UserService }, { type: i3.TranslateService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZmlsZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9jdWJlL3NoYXJlZC9zcmMvbGliL2NvbXBvbmVudHMvcHJvZmlsZS9wcm9maWxlLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2N1YmUvc2hhcmVkL3NyYy9saWIvY29tcG9uZW50cy9wcm9maWxlL3Byb2ZpbGUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBUyxNQUFNLGVBQWUsQ0FBQztBQU1qRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0saUNBQWlDLENBQUM7Ozs7Ozs7OztBQU96RCxNQUFNLE9BQU8sZ0JBQWdCO0lBNEN6QixZQUNZLElBQWlCLEVBQ2pCLFdBQXdCLEVBQ3hCLGdCQUFrQztRQUZsQyxTQUFJLEdBQUosSUFBSSxDQUFhO1FBQ2pCLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBQ3hCLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBa0I7UUE1QzlDLGlCQUFZLEdBQWMsRUFBRSxDQUFDO1FBQzdCLFdBQU0sR0FBRyxNQUFNLENBQUM7UUFDaEIsVUFBSyxHQUFhO1lBQ2Q7Z0JBQ0ksSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTTthQUMvQjtZQUNEO2dCQUNJLElBQUksRUFBRSxNQUFNO2dCQUNaLFFBQVEsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUk7YUFDN0I7WUFDRDtnQkFDSSxJQUFJLEVBQUUsV0FBVztnQkFDakIsUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUzthQUNsQztTQUNKLENBQUM7UUFFRixzQ0FBc0M7UUFDdEMsY0FBUyxHQUFlO1lBQ3BCO2dCQUNJLElBQUksRUFBRSxTQUFTO2dCQUNmLGNBQWMsRUFBRSxPQUFPO2dC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QztJQUVELFlBQVksQ0FBQyxNQUFjO1FBQ3ZCLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQztZQUM1QyxJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUUsRUFBRTtnQkFDZixJQUFJLFFBQVEsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLGFBQWEsRUFBRTtvQkFDekMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztvQkFDM0MsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxDQUFDO29CQUN4RCxJQUFJLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7aUJBQ3ZEO1lBQ0wsQ0FBQztZQUNELEtBQUssRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFO2dCQUNiLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDckgsQ0FBQztTQUNKLENBQUMsQ0FBQztJQUNQLENBQUM7K0dBdklRLGdCQUFnQjttR0FBaEIsZ0JBQWdCLG9EQ2I3Qiw2bUtBbUcyQzs7NEZEdEY5QixnQkFBZ0I7a0JBTDVCLFNBQVM7K0JBQ0ksY0FBYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCxPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9hdXRoL2F1dGguc2VydmljZSc7XHJcbmltcG9ydCB7IFRyYW5zbGF0ZVNlcnZpY2UgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJztcclxuaW1wb3J0IHsgQWxlcnRNZXNzYWdlLExhbmd1YWdlLFN0YXR1cyB9IGZyb20gJy4uLy4uL3R5cGVzL3R5cGVzJztcclxuaW1wb3J0IHsgVXNlclNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91c2VyL3VzZXIuc2VydmljZSc7XHJcbmltcG9ydCB7IFVzZXJEVE8gfSBmcm9tICcuLi8uLi90eXBlcy90eXBlcyc7XHJcbmltcG9ydCB7IElNQUdFUyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9pbWFnZS1jb25zdGFudHMnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2N1YmUtcHJvZmlsZScsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vcHJvZmlsZS5jb21wb25lbnQuaHRtbCcsXHJcbiAgICBzdHlsZVVybHM6IFsnLi9wcm9maWxlLmNvbXBvbmVudC5zY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIFByb2ZpbGVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gICAgLy8gRGVmaW5lIGFuIGVtcHR5IGFycmF5IG9mIHJvbGVzIGFuZCBhIFVzZXJEVE8gdmFyaWFibGVcclxuICAgIHVzZXJEdG8/OiBVc2VyRFRPO1xyXG4gICAgYXBwbGljYXRpb25zPzogc3RyaW5nW10gPSBbXTtcclxuICAgIGltYWdlcyA9IElNQUdFUztcclxuICAgIHN0YXRpOiBTdGF0dXNbXSA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdvbmxpbmUnLFxyXG4gICAgICAgICAgICBpY29uUGF0aDogdGhpcy5pbWFnZXMuT05MSU5FXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdidXN5JyxcclxuICAgICAgICAgICAgaWNvblBhdGg6IHRoaXMuaW1hZ2VzLkJVU1lcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2ludmlzaWJsZScsXHJcbiAgICAgICAgICAgIGljb25QYXRoOiB0aGlzLmltYWdlcy5JTlZJU0lCTEVcclxuICAgICAgICB9LFxyXG4gICAgXTtcclxuXHJcbiAgICAvLyBEZWZpbmUgYW4gYXJyYXkgb2YgTGFuZ3VhZ2Ugb2JqZWN0c1xyXG4gICAgbGFuZ3VhZ2VzOiBMYW5ndWFnZVtdID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ0VuZ2xpc2gnLFxyXG4gICAgICAgICAgICBsYW5nSWRlbnRpZmllcjogJ2VuLUVOJyxcclxuICAgICAgICAgICAgZmxhZ1BhdGg6IHRoaXMuaW1hZ2VzLkVOX0VOLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnSXRhbGlhbm8nLFxyXG4gICAgICAgICAgICBsYW5nSWRlbnRpZmllcjogJ2l0LUlUJyxcclxuICAgICAgICAgICAgZmxhZ1BhdGg6IHRoaXMuaW1hZ2VzLklUX0lULFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnRnJhbsOnYWlzJyxcclxuICAgICAgICAgICAgbGFuZ0lkZW50aWZpZXI6ICdmci1GUicsXHJcbiAgICAgICAgICAgIGZsYWdQYXRoOiB0aGlzLmltYWdlcy5GUl9GUixcclxuICAgICAgICB9LFxyXG4gICAgXTtcclxuXHJcbiAgICAvLyBWYXJpYWJpbGkgcGVyIGxhIGdlc3Rpb25lIGRlZ2xpIGVycm9yaVxyXG4gICAgZXJyb3JNc2c/OiBBbGVydE1lc3NhZ2UgfCB1bmRlZmluZWQ7XHJcbiAgICB3YXJuaW5nTXNnPzogQWxlcnRNZXNzYWdlIHwgdW5kZWZpbmVkO1xyXG4gICAgc3VjY2Vzc01zZz86IEFsZXJ0TWVzc2FnZSB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcml2YXRlIGF1dGg6IEF1dGhTZXJ2aWNlLFxyXG4gICAgICAgIHByaXZhdGUgdXNlclNlcnZpY2U6IFVzZXJTZXJ2aWNlLFxyXG4gICAgICAgIHByaXZhdGUgdHJhbnNsYXRlU2VydmljZTogVHJhbnNsYXRlU2VydmljZVxyXG4gICAgKSB7XHJcbiAgICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSB1c2VyRFRPQmVoYXZpb3JTdWJqZWN0IGZyb20gdGhlIEF1dGhTZXJ2aWNlXHJcbiAgICAgICAgYXV0aC51c2VyRFRPQmVoYXZpb3JTdWJqZWN0Py5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICBuZXh0OiAodXNlckR0bykgPT4gKHRoaXMudXNlckR0byA9IHVzZXJEdG8pLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25Jbml0KCk6IHZvaWQgeyB9XHJcblxyXG4gICAgLy8gRGVmaW5lIGEgZnVuY3Rpb24gZm9yIHVwbG9hZGluZyBhbiBpbWFnZVxyXG4gICAgdXBsb2FkSW1hZ2UoaW5wdXQ6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGZpbGU6IEZpbGUgPSBpbnB1dC50YXJnZXQuZmlsZXNbMF07XHJcblxyXG4gICAgICAgIGlmIChmaWxlLnNpemUgPiAxNjQ5NCkge1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yTXNnID0geyBtZXNzYWdlOiBcIm1lc3NhZ2UuZXJyb3IuaW1hZ2VTaXplXCIgfTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVhZGVyOiBGaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBzdHJpbmcgfCBBcnJheUJ1ZmZlciB8IG51bGwgPSByZWFkZXIucmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51c2VyU2VydmljZS51cGRhdGVQcm9maWxlUGljKHJlc3VsdC50b1N0cmluZygpKS5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlckR0bz8ucHJvcGVydGllc0RUTykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyRHRvLnByb3BlcnRpZXNEVE8ucHJvZmlsZVBpY3R1cmUgPSByZXN1bHQudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3VjY2Vzc01zZyA9IHsgbWVzc2FnZTogXCJtZXNzYWdlLnN1Y2Nlc3MuaW1hZ2VcIiB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXRoLnVzZXJEVE9CZWhhdmlvclN1YmplY3QubmV4dCh0aGlzLnVzZXJEdG8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSB7IG1lc3NhZ2U6IGVycm9yLmVycm9yLm1lc3NhZ2UscGFyYW1zOiBKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKHt9LGVycm9yLmVycm9yLnBhcmFtZXRlcikpIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVJdGVtUGVyUGFnZShpdGVtUGVyUGFnZTogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKGl0ZW1QZXJQYWdlICE9ICcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXNlclNlcnZpY2UudXBkYXRlSXRlbVBlclBhZ2UoaXRlbVBlclBhZ2UpLnN1YnNjcmliZSh7XHJcbiAgICAgICAgICAgICAgICBuZXh0OiAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgdGhpcy51c2VyRHRvPy5wcm9wZXJ0aWVzRFRPKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlckR0by5wcm9wZXJ0aWVzRFRPLml0ZW1QYWdlID0gaXRlbVBlclBhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3VjY2Vzc01zZyA9IHsgbWVzc2FnZTogXCJtZXNzYWdlLnN1Y2Nlc3MuaXRlbVwiIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXV0aC51c2VyRFRPQmVoYXZpb3JTdWJqZWN0Lm5leHQodGhpcy51c2VyRHRvKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSB7IG1lc3NhZ2U6IGVycm9yLmVycm9yLm1lc3NhZ2UscGFyYW1zOiBKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKHt9LGVycm9yLmVycm9yLnBhcmFtZXRlcikpIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVMYW5ndWFnZShsYW5nOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UudXNlKGxhbmcpO1xyXG4gICAgICAgIHRoaXMudXNlclNlcnZpY2UudXBkYXRlTGFuZ3VhZ2UobGFuZykuc3Vic2NyaWJlKHtcclxuICAgICAgICAgICAgbmV4dDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlckR0bz8ucHJvcGVydGllc0RUTykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VjY2Vzc01zZyA9IHsgbWVzc2FnZTogXCJtZXNzYWdlLnN1Y2Nlc3MubGFuZ3VhZ2VcIiB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXNlckR0by5wcm9wZXJ0aWVzRFRPLmRlZmF1bHRMYW5ndWFnZSA9IGxhbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSB7IG1lc3NhZ2U6IGVycm9yLmVycm9yLm1lc3NhZ2UscGFyYW1zOiBKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKHt9LGVycm9yLmVycm9yLnBhcmFtZXRlcikpIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTdGF0dXMoc3RhdHVzOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnVzZXJTZXJ2aWNlLnVwZGF0ZVN0YXR1cyhzdGF0dXMpLnN1YnNjcmliZSh7XHJcbiAgICAgICAgICAgIG5leHQ6IChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHRoaXMudXNlckR0bz8ucHJvcGVydGllc0RUTykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXNlckR0by5wcm9wZXJ0aWVzRFRPLnN0YXR1cyA9IHN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3NNc2cgPSB7IG1lc3NhZ2U6IFwibWVzc2FnZS5zdWNjZXNzLnN0YXR1c1wiIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXRoLnVzZXJEVE9CZWhhdmlvclN1YmplY3QubmV4dCh0aGlzLnVzZXJEdG8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yTXNnID0geyBtZXNzYWdlOiBlcnJvci5lcnJvci5tZXNzYWdlLHBhcmFtczogSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmFzc2lnbih7fSxlcnJvci5lcnJvci5wYXJhbWV0ZXIpKSB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCI8IS0tIGhlYWRlciAtLT5cclxuPG5nLWNvbnRlbnQgc2VsZWN0PVwiY3ViZS1oZWFkZXJcIj48L25nLWNvbnRlbnQ+XHJcblxyXG5cclxuPGRpdiBjbGFzcz1cImNvbnRhaW5lci1mbHVpZFwiPlxyXG4gICAgPGRpdiBjbGFzcz1cInJvdyByb3ctZmx1aWRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XHJcbiAgICAgICAgICAgIDxvbCBjbGFzcz1cImJyZWFkY3J1bWJcIj5cclxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImJyZWFkY3J1bWItaXRlbVwiPjxhIHJvdXRlckxpbms9XCIvXCI+e3snSG9tZSd9fTwvYT48L2xpPlxyXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiYnJlYWRjcnVtYi1pdGVtIGFjdGl2ZVwiPnt7XCJQcm9maWxlXCIgfCB0cmFuc2xhdGV9fTwvbGk+XHJcbiAgICAgICAgICAgIDwvb2w+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC9kaXY+XHJcblxyXG48bWFpbiBjbGFzcz1cImNvbnRhaW5lci1mbHVpZCB0ZXh0LWNlbnRlciBmcy02XCI+XHJcbiAgICA8IS0tIFNlemlvbmUgaW1tYWdpbmUgcHJvZmlsbyAtLT5cclxuICAgIDxkaXYgY2xhc3M9XCJyb3cgcm93LWZsdWlkIGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cclxuICAgICAgICA8bmctY29udGVudCBzZWxlY3Q9XCJbbWVzc2FnZXNdXCI+PC9uZy1jb250ZW50PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLXhsLTNcIj5cclxuICAgICAgICAgICAgPGltZyBhbHQ9XCJwcm9maWxlUGljdHVyZVwiIGNsYXNzPVwibWItMiBwcm9maWxlXCIgW3NyY109XCJ1c2VyRHRvPy5wcm9wZXJ0aWVzRFRPPy5wcm9maWxlUGljdHVyZVwiIHdpZHRoPVwiMTc1XCJcclxuICAgICAgICAgICAgICAgIGhlaWdodD1cIjE3NVwiPlxyXG4gICAgICAgICAgICA8Zm9ybT5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ1cGxvYWRJbWFnZVwiIGNsYXNzPVwibWItMVwiPnt7XCJnZW5lcmljLnVwZGF0ZS1wcm9waWNcIiB8IHRyYW5zbGF0ZX19PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImJ0biByb3VuZGVkLTVcIj5cclxuICAgICAgICAgICAgICAgICAgICB7e1wiZ2VuZXJpYy5zZWxlY3QtZmlsZVwiIHwgdHJhbnNsYXRlfX1cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiIG5hbWU9XCJ1cGxvYWRJbWFnZVwiIGlkPVwidXBsb2FkSW1hZ2VcIiBjbGFzcz1cInJvdW5kZWQtNVwiIHR5cGU9XCJmaWxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGNoYW5nZSk9XCJ1cGxvYWRJbWFnZSgkZXZlbnQpXCI+XHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDwhLS0gU2V6aW9uZSBpbmZvcm1hemlvbmkgdXRlbnRlIC0tPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLW1kLTEyIGNvbC14bC00XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgZy00XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3tcImdlbmVyaWMubmFtZVwifHRyYW5zbGF0ZX19OiB7e3VzZXJEdG8/Lm5hbWV9fVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3tcImdlbmVyaWMuc3VybmFtZVwifHRyYW5zbGF0ZX19OiB7e3VzZXJEdG8/LnN1cm5hbWV9fVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgRS1tYWlsOiB7e3VzZXJEdG8/LmVtYWlsfX1cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1zLTJcIiAqbmdJZj1cInVzZXJEdG8/LnZhbGlkYXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJkZWZhdWx0LWltYWdlXCIgc3JjPVwiYXNzZXRzL2ltYWdlcy92ZXJpZmllZC5wbmdcIiBhbHQ9XCJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgbXQtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS0gRHJvcGRvd24gcGVyIHNlbGV6aW9uYXJlIGlsIG51bWVybyBkaSBlbGVtZW50aSB2aXN1YWxpenphdGkgcGVyIHBhZ2luYSAtLT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7XCJnZW5lcmljLml0ZW1zXCJ8dHJhbnNsYXRlfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInVwZGF0ZUl0ZW1QZXJQYWdlXCI+PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cInVwZGF0ZUl0ZW1QZXJQYWdlXCIgI2l0ZW1QZXJQYWdlIGNsYXNzPVwiZm9ybS1zZWxlY3Qgc2hhZG93LW5vbmUgbXMtMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cInVwZGF0ZUl0ZW1QZXJQYWdlKGl0ZW1QZXJQYWdlLnZhbHVlKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBkZWZhdWx0IGhpZGRlbj57e3VzZXJEdG8/LnByb3BlcnRpZXNEVE8/Lml0ZW1QYWdlfX08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24+e3snNSd9fTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbj57eycyMCd9fTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbj57eyc1MCd9fTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBtdC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLSBEcm9wZG93biBwZXIgc2VsZXppb25hcmUgbGEgbGluZ3VhIGRpIHZpc3VhbGl6emF6aW9uZSBkZWxsYSBwYWdpbmEgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBuZ2JEcm9wZG93biBjbGFzcz1cImRyb3Bkb3duXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmdiRHJvcGRvd25Ub2dnbGUgY2xhc3M9XCJidG5cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgYWx0PVwibGFuZ3VhZ2UgZmxhZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPSdhc3NldHMvaW1hZ2VzL3t7dXNlckR0bz8ucHJvcGVydGllc0RUTz8uZGVmYXVsdExhbmd1YWdlfX0ucG5nJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmdiRHJvcGRvd25NZW51PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiAqbmdGb3I9XCJsZXQgbGFuZ3VhZ2Ugb2YgbGFuZ3VhZ2VzXCIgY2xhc3M9XCJidG5cIiBuZ2JEcm9wZG93bkl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwidXBkYXRlTGFuZ3VhZ2UobGFuZ3VhZ2UubGFuZ0lkZW50aWZpZXIpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBhbHQ9XCJmbGFnTGFuZ3VhZ2VEcm9wZG93blwiIHNyYz0ne3tsYW5ndWFnZS5mbGFnUGF0aH19Jz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3sgXCJsYW5nLmRlZi1sYW5nXCIgfCB0cmFuc2xhdGUgfX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBtdC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLSBEcm9wZG93biBwZXIgc2VsZXppb25hcmUgaWwgbnVvdm8gc3RhdHVzIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgbmdiRHJvcGRvd24gY2xhc3M9XCJkcm9wZG93blwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG5nYkRyb3Bkb3duVG9nZ2xlIGNsYXNzPVwiYnRuXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGFsdD1cInVzZXIgc3RhdHVzXCIgc3JjPVwiYXNzZXRzL2ltYWdlcy97eyB1c2VyRHRvPy5wcm9wZXJ0aWVzRFRPPy5zdGF0dXMgfX0ucG5nXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmdiRHJvcGRvd25NZW51PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiAqbmdGb3I9XCJsZXQgc3RhdHVzIG9mIHN0YXRpXCIgY2xhc3M9XCJidG5cIiBuZ2JEcm9wZG93bkl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwidXBkYXRlU3RhdHVzKHN0YXR1cy5uYW1lKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgYWx0PVwie3tzdGF0dXMubmFtZX19XCIgc3JjPVwie3sgc3RhdHVzLmljb25QYXRoIH19XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57e1wiZ2VuZXJpYy5cIitzdGF0dXMubmFtZSB8IHRyYW5zbGF0ZX19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7eyBcImdlbmVyaWMuc3RhdHVzXCIgfCB0cmFuc2xhdGUgfX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L21haW4+XHJcblxyXG48IS0tIGZvb3RlciAtLT5cclxuPG5nLWNvbnRlbnQgc2VsZWN0PVwiW2Zvb3Rlcl1cIj48L25nLWNvbnRlbnQ+Il19