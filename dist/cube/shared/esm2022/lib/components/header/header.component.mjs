import { Component, Inject, Input } from '@angular/core';
import { faCube } from '@fortawesome/free-solid-svg-icons';
import { DatePipe } from '@angular/common';
import { IMAGES } from '../../constants/image-constants';
import * as i0 from "@angular/core";
import * as i1 from "keycloak-angular";
import * as i2 from "@ngx-translate/core";
import * as i3 from "../../services/auth/auth.service";
import * as i4 from "../../services/websocket/websocket.service";
import * as i5 from "../../services/user/user.service";
import * as i6 from "../../services/notification/notification.service";
import * as i7 from "@angular/common";
import * as i8 from "@ng-bootstrap/ng-bootstrap";
import * as i9 from "@angular/router";
export class HeaderComponent {
    constructor(keycloak, translateService, auth, webSocket, userService, notificationService, config) {
        this.keycloak = keycloak;
        this.translateService = translateService;
        this.auth = auth;
        this.webSocket = webSocket;
        this.userService = userService;
        this.notificationService = notificationService;
        this.config = config;
        this.showNotifications = false;
        //valori di default per i loghi
        /**
         * va passato il path dell'immagine nel selector del component padre
         * per es.
         * <cube-header
         * cubeLogo="assets/images/your-cube-logo.png"
         * portalLogo="assets/images/your-portal-logo.png">
         * </cube-header>
        */
        this.iconLogo = 'assets/images/pccube-solo-cubo.png'; // valore di default
        this.bigLogo = 'assets/images/cube-portal-logo1.png'; // valore di default
        this.images = IMAGES;
        this.imgSrc = 'assets/images/profile.jpg';
        this.icon = faCube;
        this.languages = [];
        this.isNavbarCollapsed = true;
        this.listNotifications = [];
        this.notificationsCount = 0;
        this.totalUnredMessagesCount = 0;
        this.stati = [
            {
                name: 'online',
                iconPath: this.images.ONLINE
            },
            {
                name: 'busy',
                iconPath: this.images.BUSY
            },
            {
                name: 'invisible',
                iconPath: this.images.INVISIBLE
            },
        ];
        console.log('HeaderComponent costruttore chiamato');
        this.keycloakLoginOptions = {
            redirectUri: this.config.loginRedirectChatHomePage,
        };
        this.languages = [
            {
                name: 'English',
                langIdentifier: 'en-EN',
                flagPath: this.images.EN_EN,
            },
            {
                name: 'Italiano',
                langIdentifier: 'it-IT',
                flagPath: this.images.IT_IT,
            },
            {
                name: 'Français',
                langIdentifier: 'fr-FR',
                flagPath: this.images.FR_FR,
            }
        ].sort();
    }
    ngOnInit() {
        this.keycloak.isLoggedIn().then(isLoggedIn => {
            if (isLoggedIn) {
                this.keycloak.loadUserProfile().then(profile => {
                    this.auth.updateKeycloakProfile(profile);
                    if (this.showNotifications) {
                        this.initializeNotifications();
                    }
                });
            }
        });
        this.auth.userDTOBehaviorSubject.subscribe({
            next: (receivedUserDTO) => {
                if (receivedUserDTO) {
                    this.userDTO = receivedUserDTO;
                    if (receivedUserDTO.propertiesDTO?.defaultLanguage) {
                        this.translateService.use(receivedUserDTO.propertiesDTO.defaultLanguage);
                    }
                }
            }
        });
        if (this.showNotifications) {
            this.webSocketSubscription = this.webSocket.newNotification.subscribe({
                next: (ping) => {
                    if (ping) {
                        this.updateNotifications();
                    }
                }
            });
        }
    }
    ngOnDestroy() {
        if (this.webSocketSubscription) {
            this.webSocketSubscription.unsubscribe();
        }
        if (this.timer) {
            clearTimeout(this.timer);
        }
    }
    initializeNotifications() {
        if (!this.showNotifications)
            return;
        this.notificationService.getNotifications().subscribe(notifications => {
            this.listNotifications = notifications;
            ;
            if (notifications.some(notification => notification.app == this.config.appIdentifier)) {
                this.notificationService.getTotalUnreadNotificationCount().subscribe(count => {
                    this.totalUnredMessagesCount = count;
                    this.setNotification();
                });
            }
        });
    }
    setNotification() {
        if (!this.showNotifications)
            return;
        this.transformDateNotification();
        this.countNotifications();
    }
    transformDateNotification() {
        const datePipe = new DatePipe('en-US');
        this.listNotifications.forEach((notification) => notification.sentAt = datePipe.transform(notification.sentAt, 'dd/MM/yyyy - HH:mm:ss'));
    }
    countNotifications() {
        this.notificationsCount = 0;
        this.listNotifications.forEach((notification) => {
            if (!notification.read && ((notification.app != this.config.appIdentifier) || (notification.app == this.config.appIdentifier && this.totalUnredMessagesCount != 0))) {
                this.notificationsCount += 1;
            }
        });
    }
    readAllNotifications() {
        if (!this.showNotifications)
            return;
        this.notificationService.readAllNotifications().subscribe();
        this.listNotifications.forEach(notification => notification.read = true);
        this.countNotifications();
    }
    updateNotifications() {
        if (!this.showNotifications)
            return;
        this.notificationService.getNotifications().subscribe(notifications => {
            this.listNotifications = notifications;
            ;
            this.setNotification();
        });
    }
    readNotificationAfterMouseStand(event, id) {
        if (!this.showNotifications)
            return;
        this.timer = setTimeout(() => {
            event.target.classList.remove('notification-text-new');
            this.notificationService.readOneNotification(id).subscribe();
            this.listNotifications.forEach((notification) => {
                if (notification.id == id) {
                    notification.read = true;
                }
            });
            this.countNotifications();
        }, 1000);
    }
    abortReadNotificationAfterMouseStand() {
        if (!this.showNotifications)
            return;
        clearTimeout(this.timer);
    }
    redirect(notification) {
        if (!this.showNotifications)
            return;
        if (notification.app == this.config.appIdentifier && this.properties?.chatUrl) {
            window.location.href = this.properties.chatUrl;
        }
    }
    login() {
        this.keycloak.login(this.keycloakLoginOptions);
    }
    logout() {
        this.webSocket.disconnect().then(() => {
            this.keycloak.logout(this.config.redirectUri);
        });
    }
    changeLanguage(lang) {
        this.translateService.use(lang);
    }
    updateStatus(status) {
        this.userService.updateStatus(status).subscribe({
            next: (response) => {
                if (response && this.userDTO) {
                    this.userDTO.propertiesDTO.status = status;
                    this.auth.userDTOBehaviorSubject.next(this.userDTO);
                }
            },
        });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: HeaderComponent, deps: [{ token: i1.KeycloakService }, { token: i2.TranslateService }, { token: i3.AuthService }, { token: i4.WebSocketService }, { token: i5.UserService }, { token: i6.NotificationService }, { token: 'SHARED_CONFIG' }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: HeaderComponent, selector: "cube-header", inputs: { properties: "properties", showNotifications: "showNotifications", iconLogo: "iconLogo", bigLogo: "bigLogo" }, ngImport: i0, template: "<nav class=\"navbar navbar-expand-xl\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"navbar-brand\">\r\n            <a href=\"https://docmon.pccube.com/portal\">\r\n                <img alt=\"cubePortalLogo\" class=\"home\" [src]=\"iconLogo\">\r\n            </a>\r\n        </div>\r\n\r\n        <div class=\"navbar-brand\">\r\n            <img alt=\"cube portal logo\" routerLink=\"/\" style=\"cursor:pointer; width: 275px; height: 50px;\"\r\n                [src]=\"bigLogo\">\r\n        </div>\r\n\r\n        <button class=\"navbar-toggler shadow-none\" (click)=\"isNavbarCollapsed = !isNavbarCollapsed\">\r\n            <span>\r\n                <img alt=\"navbar toggler\" [src]=\"images.NAVBAR_TOGGLER\">\r\n            </span>\r\n        </button>\r\n\r\n        <div class=\"collapse navbar-collapse justify-content-end\" [ngbCollapse]=\"isNavbarCollapsed\">\r\n            <ul class=\"list-group list-group-horizontal align-items-center justify-content-center\">\r\n                <li *ngIf=\"isNavbarCollapsed\" class=\"list-group-item\">\r\n                    <div class=\"nav-link user-menu\">\r\n                        {{userDTO?.name}} {{userDTO?.surname}}\r\n                    </div>\r\n                </li>\r\n\r\n                <li *ngIf=\"userDTO\" ngbDropdown class=\"list-group-item\">\r\n                    <div ngbDropdown class=\"dropdown\">\r\n                        <button ngbDropdownToggle class=\"user-menu\">\r\n                            <img alt=\"user status\" src=\"assets/images/{{ userDTO!.propertiesDTO!.status }}.png\" />\r\n                        </button>\r\n                        <div ngbDropdownMenu>\r\n                            <button *ngFor=\"let status of stati\" class=\"btn\" ngbDropdownItem\r\n                                (click)=\"updateStatus(status.name)\">\r\n                                <img class=\"me-2\" alt=\"{{status.name}}\" src=\"{{ status.iconPath }}\" />\r\n                                {{\"generic.\" + status.name | translate}}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n\r\n                <li ngbDropdown class=\"list-group-item\">\r\n                    <button *ngIf=\"!userDTO\" class=\"user-menu\" (click)=\"login()\">{{'Login'}}</button>\r\n                    <div *ngIf=\"userDTO\">\r\n                        <button ngbDropdownToggle class=\"user-menu\">\r\n                            <img alt=\"profilePicture\" class=\"rounded-5\" src=\"{{userDTO.propertiesDTO?.profilePicture}}\"\r\n                                width=\"32\" height=\"32\">\r\n                        </button>\r\n                        <div ngbDropdownMenu class=\"dropdown-menu\">\r\n                            <button ngbDropdownItem routerLink=\"/profile\">{{\"generic.profile\"|translate}}</button>\r\n                            <button ngbDropdownItem (click)=\"logout()\">{{'Logout'}}</button>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n\r\n                <!-- Notifications Menu - Only shown when showNotifications is true -->\r\n                <li *ngIf=\"showNotifications\" ngbDropdown [autoClose]=\"false\" class=\"list-group-item dropdown\">\r\n                    <div>\r\n                        <button alt=\"notification toggle\" ngbDropdownToggle class=\"user-menu\">\r\n                            <img height=\"32px\" alt=\"notification toggle\" [src]=\"images.BELL\" (click)=\"updateNotifications()\">\r\n                            <span *ngIf=\"notificationsCount!=0\" class=\"badge\">{{notificationsCount}}</span>\r\n                        </button>\r\n                        <ul ngbDropdownMenu class=\"dropdown-menu dropdown-menu-end\">\r\n                            <li ngbDropdownItem class=\"\">\r\n                                <div class=\"row d-flex justify-content-between align-items-center\">\r\n                                    <div class=\"col-10\">\r\n                                        <button class=\"dropdown-item p-0\"\r\n                                            routerLink=\"/notifications\"><strong>{{\"generic.notification-word\"|translate}}</strong></button>\r\n                                    </div>\r\n                                    <div class=\"col-2\">\r\n                                        <img style=\"cursor:pointer\" height=\"16px\" alt=\"read all notification\"\r\n                                            [src]=\"images.READ_ALL\" (click)=\"readAllNotifications()\">\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n\r\n                            <li *ngFor=\"let notification of listNotifications\" ngbDropdownItem>\r\n                                <div class=\"row\">\r\n                                    <div [ngClass]=\"notification.read ? 'col-12' : 'col-10'\" class=\"col\">\r\n                                        <div *ngIf=\"!notification.read && ((notification.app!='Chat') || (notification.app=='Chat' && totalUnredMessagesCount!=0))\"\r\n                                            class=\"notification-text notification-text-new\"\r\n                                            (mouseenter)=\"readNotificationAfterMouseStand($event, notification.id)\"\r\n                                            (mouseleave)=\"abortReadNotificationAfterMouseStand()\"\r\n                                            (click)=\"redirect(notification)\"\r\n                                            [ngClass]=\"notification.app == 'Chat' ? 'clickable' : null\">\r\n                                            <h5 class=\"my-auto\">{{notification.sentAt}}:</h5>\r\n                                            <span *ngIf=\"notification.app == 'Chat'\">{{totalUnredMessagesCount}}</span>\r\n                                            {{notification.message | translate}}\r\n                                            <hr class=\"dropdown-divider\">\r\n                                        </div>\r\n                                        <div *ngIf=\"notification.read && ((notification.app!='Chat') || (notification.app=='Chat' && totalUnredMessagesCount!=0))\"\r\n                                            class=\"notification-text text-muted\" (click)=\"redirect(notification)\"\r\n                                            [ngClass]=\"notification.app == 'Chat' ? 'clickable' : null\">\r\n                                            <h5 class=\"my-auto\">{{notification.sentAt}}:</h5>\r\n                                            <span *ngIf=\"notification.app == 'Chat'\">{{totalUnredMessagesCount}}</span>\r\n                                            {{notification.message | translate}}\r\n                                            <hr class=\"dropdown-divider\">\r\n                                        </div>\r\n                                    </div>\r\n                                    <div *ngIf=\"!notification.read && ((notification.app!='Chat') || (notification.app=='Chat' && totalUnredMessagesCount!=0))\"\r\n                                        class=\"col-2\">\r\n                                        <img [src]=\"images.ENVELOPE\" alt=\"envelope icon\">\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </li>\r\n\r\n                <li ngbDropdown class=\"list-group-item\">\r\n                    <button ngbDropdownToggle class=\"user-menu\">\r\n                        <img alt=\"language flag\" src='{{\"lang.flag-picture\"|translate}}'>\r\n                    </button>\r\n                    <div ngbDropdownMenu class=\"dropdown-menu\">\r\n                        <button *ngFor=\"let language of languages\" ngbDropdownItem\r\n                            (click)=\"changeLanguage(language.langIdentifier)\">\r\n                            <img alt=\"language flag\" src='{{language.flagPath}}'>\r\n                        </button>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</nav>", styles: ["div.container-fluid{background:#130044;box-shadow:0 10px 50px #13004440;border-radius:.625rem;margin:1.125rem 1.25rem 0rem;min-height:5.813rem;height:100px}.navbar-brand{position:relative;left:50%;transform:translate(-50%);display:block}li.list-group-item{background:transparent;border:none}.dropdown-menu{border-radius:.625rem;min-width:inherit;padding:.25rem}button:hover,li.dropdown-item{background-color:transparent}.user-menu{border:none;background:transparent;color:#fff;white-space:nowrap}img.rounded-5{object-fit:cover}.badge{background-color:#fff;color:#130044}.dropdown-notification-toggle{color:#130044}.notification-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:21rem}.notification-text-new{color:#130044}ul.dropdown-menu{min-width:15rem;max-height:10rem;overflow-y:auto}li:active{color:#130044}hr.dropdown-divider{margin:auto;margin-top:.125rem;margin-bottom:.125rem}.home{position:absolute;left:-800px;top:-5px;height:25px;width:25px}\n"], dependencies: [{ kind: "directive", type: i7.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i7.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i7.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i8.NgbCollapse, selector: "[ngbCollapse]", inputs: ["animation", "ngbCollapse", "horizontal"], outputs: ["ngbCollapseChange", "shown", "hidden"], exportAs: ["ngbCollapse"] }, { kind: "directive", type: i8.NgbDropdown, selector: "[ngbDropdown]", inputs: ["autoClose", "dropdownClass", "open", "placement", "popperOptions", "container", "display"], outputs: ["openChange"], exportAs: ["ngbDropdown"] }, { kind: "directive", type: i8.NgbDropdownToggle, selector: "[ngbDropdownToggle]" }, { kind: "directive", type: i8.NgbDropdownMenu, selector: "[ngbDropdownMenu]" }, { kind: "directive", type: i8.NgbDropdownItem, selector: "[ngbDropdownItem]", inputs: ["disabled"] }, { kind: "directive", type: i9.RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "pipe", type: i2.TranslatePipe, name: "translate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: HeaderComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cube-header', template: "<nav class=\"navbar navbar-expand-xl\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"navbar-brand\">\r\n            <a href=\"https://docmon.pccube.com/portal\">\r\n                <img alt=\"cubePortalLogo\" class=\"home\" [src]=\"iconLogo\">\r\n            </a>\r\n        </div>\r\n\r\n        <div class=\"navbar-brand\">\r\n            <img alt=\"cube portal logo\" routerLink=\"/\" style=\"cursor:pointer; width: 275px; height: 50px;\"\r\n                [src]=\"bigLogo\">\r\n        </div>\r\n\r\n        <button class=\"navbar-toggler shadow-none\" (click)=\"isNavbarCollapsed = !isNavbarCollapsed\">\r\n            <span>\r\n                <img alt=\"navbar toggler\" [src]=\"images.NAVBAR_TOGGLER\">\r\n            </span>\r\n        </button>\r\n\r\n        <div class=\"collapse navbar-collapse justify-content-end\" [ngbCollapse]=\"isNavbarCollapsed\">\r\n            <ul class=\"list-group list-group-horizontal align-items-center justify-content-center\">\r\n                <li *ngIf=\"isNavbarCollapsed\" class=\"list-group-item\">\r\n                    <div class=\"nav-link user-menu\">\r\n                        {{userDTO?.name}} {{userDTO?.surname}}\r\n                    </div>\r\n                </li>\r\n\r\n                <li *ngIf=\"userDTO\" ngbDropdown class=\"list-group-item\">\r\n                    <div ngbDropdown class=\"dropdown\">\r\n                        <button ngbDropdownToggle class=\"user-menu\">\r\n                            <img alt=\"user status\" src=\"assets/images/{{ userDTO!.propertiesDTO!.status }}.png\" />\r\n                        </button>\r\n                        <div ngbDropdownMenu>\r\n                            <button *ngFor=\"let status of stati\" class=\"btn\" ngbDropdownItem\r\n                                (click)=\"updateStatus(status.name)\">\r\n                                <img class=\"me-2\" alt=\"{{status.name}}\" src=\"{{ status.iconPath }}\" />\r\n                                {{\"generic.\" + status.name | translate}}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n\r\n                <li ngbDropdown class=\"list-group-item\">\r\n                    <button *ngIf=\"!userDTO\" class=\"user-menu\" (click)=\"login()\">{{'Login'}}</button>\r\n                    <div *ngIf=\"userDTO\">\r\n                        <button ngbDropdownToggle class=\"user-menu\">\r\n                            <img alt=\"profilePicture\" class=\"rounded-5\" src=\"{{userDTO.propertiesDTO?.profilePicture}}\"\r\n                                width=\"32\" height=\"32\">\r\n                        </button>\r\n                        <div ngbDropdownMenu class=\"dropdown-menu\">\r\n                            <button ngbDropdownItem routerLink=\"/profile\">{{\"generic.profile\"|translate}}</button>\r\n                            <button ngbDropdownItem (click)=\"logout()\">{{'Logout'}}</button>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n\r\n                <!-- Notifications Menu - Only shown when showNotifications is true -->\r\n                <li *ngIf=\"showNotifications\" ngbDropdown [autoClose]=\"false\" class=\"list-group-item dropdown\">\r\n                    <div>\r\n                        <button alt=\"notification toggle\" ngbDropdownToggle class=\"user-menu\">\r\n                            <img height=\"32px\" alt=\"notification toggle\" [src]=\"images.BELL\" (click)=\"updateNotifications()\">\r\n                            <span *ngIf=\"notificationsCount!=0\" class=\"badge\">{{notificationsCount}}</span>\r\n                        </button>\r\n                        <ul ngbDropdownMenu class=\"dropdown-menu dropdown-menu-end\">\r\n                            <li ngbDropdownItem class=\"\">\r\n                                <div class=\"row d-flex justify-content-between align-items-center\">\r\n                                    <div class=\"col-10\">\r\n                                        <button class=\"dropdown-item p-0\"\r\n                                            routerLink=\"/notifications\"><strong>{{\"generic.notification-word\"|translate}}</strong></button>\r\n                                    </div>\r\n                                    <div class=\"col-2\">\r\n                                        <img style=\"cursor:pointer\" height=\"16px\" alt=\"read all notification\"\r\n                                            [src]=\"images.READ_ALL\" (click)=\"readAllNotifications()\">\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n\r\n                            <li *ngFor=\"let notification of listNotifications\" ngbDropdownItem>\r\n                                <div class=\"row\">\r\n                                    <div [ngClass]=\"notification.read ? 'col-12' : 'col-10'\" class=\"col\">\r\n                                        <div *ngIf=\"!notification.read && ((notification.app!='Chat') || (notification.app=='Chat' && totalUnredMessagesCount!=0))\"\r\n                                            class=\"notification-text notification-text-new\"\r\n                                            (mouseenter)=\"readNotificationAfterMouseStand($event, notification.id)\"\r\n                                            (mouseleave)=\"abortReadNotificationAfterMouseStand()\"\r\n                                            (click)=\"redirect(notification)\"\r\n                                            [ngClass]=\"notification.app == 'Chat' ? 'clickable' : null\">\r\n                                            <h5 class=\"my-auto\">{{notification.sentAt}}:</h5>\r\n                                            <span *ngIf=\"notification.app == 'Chat'\">{{totalUnredMessagesCount}}</span>\r\n                                            {{notification.message | translate}}\r\n                                            <hr class=\"dropdown-divider\">\r\n                                        </div>\r\n                                        <div *ngIf=\"notification.read && ((notification.app!='Chat') || (notification.app=='Chat' && totalUnredMessagesCount!=0))\"\r\n                                            class=\"notification-text text-muted\" (click)=\"redirect(notification)\"\r\n                                            [ngClass]=\"notification.app == 'Chat' ? 'clickable' : null\">\r\n                                            <h5 class=\"my-auto\">{{notification.sentAt}}:</h5>\r\n                                            <span *ngIf=\"notification.app == 'Chat'\">{{totalUnredMessagesCount}}</span>\r\n                                            {{notification.message | translate}}\r\n                                            <hr class=\"dropdown-divider\">\r\n                                        </div>\r\n                                    </div>\r\n                                    <div *ngIf=\"!notification.read && ((notification.app!='Chat') || (notification.app=='Chat' && totalUnredMessagesCount!=0))\"\r\n                                        class=\"col-2\">\r\n                                        <img [src]=\"images.ENVELOPE\" alt=\"envelope icon\">\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </li>\r\n\r\n                <li ngbDropdown class=\"list-group-item\">\r\n                    <button ngbDropdownToggle class=\"user-menu\">\r\n                        <img alt=\"language flag\" src='{{\"lang.flag-picture\"|translate}}'>\r\n                    </button>\r\n                    <div ngbDropdownMenu class=\"dropdown-menu\">\r\n                        <button *ngFor=\"let language of languages\" ngbDropdownItem\r\n                            (click)=\"changeLanguage(language.langIdentifier)\">\r\n                            <img alt=\"language flag\" src='{{language.flagPath}}'>\r\n                        </button>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</nav>", styles: ["div.container-fluid{background:#130044;box-shadow:0 10px 50px #13004440;border-radius:.625rem;margin:1.125rem 1.25rem 0rem;min-height:5.813rem;height:100px}.navbar-brand{position:relative;left:50%;transform:translate(-50%);display:block}li.list-group-item{background:transparent;border:none}.dropdown-menu{border-radius:.625rem;min-width:inherit;padding:.25rem}button:hover,li.dropdown-item{background-color:transparent}.user-menu{border:none;background:transparent;color:#fff;white-space:nowrap}img.rounded-5{object-fit:cover}.badge{background-color:#fff;color:#130044}.dropdown-notification-toggle{color:#130044}.notification-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:21rem}.notification-text-new{color:#130044}ul.dropdown-menu{min-width:15rem;max-height:10rem;overflow-y:auto}li:active{color:#130044}hr.dropdown-divider{margin:auto;margin-top:.125rem;margin-bottom:.125rem}.home{position:absolute;left:-800px;top:-5px;height:25px;width:25px}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.KeycloakService }, { type: i2.TranslateService }, { type: i3.AuthService }, { type: i4.WebSocketService }, { type: i5.UserService }, { type: i6.NotificationService }, { type: undefined, decorators: [{
                    type: Inject,
                    args: ['SHARED_CONFIG']
                }] }]; }, propDecorators: { properties: [{
                type: Input
            }], showNotifications: [{
                type: Input
            }], iconLogo: [{
                type: Input
            }], bigLogo: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2N1YmUvc2hhcmVkL3NyYy9saWIvY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2N1YmUvc2hhcmVkL3NyYy9saWIvY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVEsTUFBTSxFQUFDLEtBQUssRUFBWSxNQUFNLGVBQWUsQ0FBQztBQUV4RSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFTM0QsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRTNDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQzs7Ozs7Ozs7Ozs7QUFPekQsTUFBTSxPQUFPLGVBQWU7SUFnRDFCLFlBQ1UsUUFBeUIsRUFDekIsZ0JBQWtDLEVBQ2xDLElBQWlCLEVBQ2pCLFNBQTJCLEVBQzNCLFdBQXdCLEVBQ3hCLG1CQUF3QyxFQUNmLE1BQW9CO1FBTjdDLGFBQVEsR0FBUixRQUFRLENBQWlCO1FBQ3pCLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBa0I7UUFDbEMsU0FBSSxHQUFKLElBQUksQ0FBYTtRQUNqQixjQUFTLEdBQVQsU0FBUyxDQUFrQjtRQUMzQixnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUN4Qix3QkFBbUIsR0FBbkIsbUJBQW1CLENBQXFCO1FBQ2YsV0FBTSxHQUFOLE1BQU0sQ0FBYztRQXJEOUMsc0JBQWlCLEdBQVksS0FBSyxDQUFDO1FBRTVDLCtCQUErQjtRQUMvQjs7Ozs7OztVQU9FO1FBQ08sYUFBUSxHQUFXLG9DQUFvQyxDQUFDLENBQUMsb0JBQW9CO1FBQzdFLFlBQU8sR0FBVyxxQ0FB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QkFDRyxPQUFPO3NCQUFmLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsT25Jbml0LEluamVjdCxJbnB1dCxPbkRlc3Ryb3kgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFRyYW5zbGF0ZVNlcnZpY2UgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJztcbmltcG9ydCB7IGZhQ3ViZSB9IGZyb20gJ0Bmb3J0YXdlc29tZS9mcmVlLXNvbGlkLXN2Zy1pY29ucyc7XG5pbXBvcnQgeyBLZXljbG9ha1NlcnZpY2UgfSBmcm9tICdrZXljbG9hay1hbmd1bGFyJztcbmltcG9ydCB7IEtleWNsb2FrTG9naW5PcHRpb25zIH0gZnJvbSAna2V5Y2xvYWstanMnO1xuaW1wb3J0IHsgU2hhcmVkQ29uZmlnIH0gZnJvbSAnLi4vLi4vdHlwZXMvc2hhcmVkLmludGVyZmFjZSc7XG5pbXBvcnQgeyBBdXRoU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2F1dGgvYXV0aC5zZXJ2aWNlJztcbmltcG9ydCB7IFVzZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvdXNlci91c2VyLnNlcnZpY2UnO1xuaW1wb3J0IHsgV2ViU29ja2V0U2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3dlYnNvY2tldC93ZWJzb2NrZXQuc2VydmljZSc7XG5pbXBvcnQgeyBMYW5ndWFnZSxTdGF0dXMsVXNlckRUTyxOb3RpZmljYXRpb24gYXMgQ3VzdG9tTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vLi4vdHlwZXMvdHlwZXMnO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24uc2VydmljZSc7XG5pbXBvcnQgeyBEYXRlUGlwZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElNQUdFUyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9pbWFnZS1jb25zdGFudHMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjdWJlLWhlYWRlcicsXG4gIHRlbXBsYXRlVXJsOiAnLi9oZWFkZXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9oZWFkZXIuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBIZWFkZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsT25EZXN0cm95IHtcbiAgQElucHV0KCkgcHJvcGVydGllczogYW55O1xuICBASW5wdXQoKSBzaG93Tm90aWZpY2F0aW9uczogYm9vbGVhbiA9IGZhbHNlO1xuICBcbiAgLy92YWxvcmkgZGkgZGVmYXVsdCBwZXIgaSBsb2doaVxuICAvKipcbiAgICogdmEgcGFzc2F0byBpbCBwYXRoIGRlbGwnaW1tYWdpbmUgbmVsIHNlbGVjdG9yIGRlbCBjb21wb25lbnQgcGFkcmVcbiAgICogcGVyIGVzLlxuICAgKiA8Y3ViZS1oZWFkZXIgIFxuICAgKiBjdWJlTG9nbz1cImFzc2V0cy9pbWFnZXMveW91ci1jdWJlLWxvZ28ucG5nXCJcbiAgICogcG9ydGFsTG9nbz1cImFzc2V0cy9pbWFnZXMveW91ci1wb3J0YWwtbG9nby5wbmdcIj5cbiAgICogPC9jdWJlLWhlYWRlcj5cbiAgKi9cbiAgQElucHV0KCkgaWNvbkxvZ286IHN0cmluZyA9ICdhc3NldHMvaW1hZ2VzL3BjY3ViZS1zb2xvLWN1Ym8ucG5nJzsgLy8gdmFsb3JlIGRpIGRlZmF1bHRcbiAgQElucHV0KCkgYmlnTG9nbzogc3RyaW5nID0gJ2Fzc2V0cy9pbWFnZXMvY3ViZS1wb3J0YWwtbG9nbzEucG5nJzsgLy8gdmFsb3JlIGRpIGRlZmF1bHRcblxuXG5cbiAgaW1hZ2VzID0gSU1BR0VTO1xuXG4gIHVzZXJEVE8/OiBVc2VyRFRPO1xuICBpbWdTcmM/OiBzdHJpbmcgPSAnYXNzZXRzL2ltYWdlcy9wcm9maWxlLmpwZyc7XG4gIGljb24gPSBmYUN1YmU7XG4gIGxhbmd1YWdlczogTGFuZ3VhZ2VbXSA9IFtdO1xuICBpc05hdmJhckNvbGxhcHNlZCA9IHRydWU7XG4gIGtleWNsb2FrTG9naW5PcHRpb25zOiBLZXljbG9ha0xvZ2luT3B0aW9ucztcblxuICBsaXN0Tm90aWZpY2F0aW9uczogQ3VzdG9tTm90aWZpY2F0aW9uW10gPSBbXTtcbiAgbm90aWZpY2F0aW9uc0NvdW50OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHRpbWVyOiBhbnk7XG4gIHRvdGFsVW5yZWRNZXNzYWdlc0NvdW50OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHdlYlNvY2tldFN1YnNjcmlwdGlvbj86IFN1YnNjcmlwdGlvbjtcblxuICBzdGF0aTogU3RhdHVzW10gPSBbXG4gICAge1xuICAgICAgbmFtZTogJ29ubGluZScsXG4gICAgICBpY29uUGF0aDogdGhpcy5pbWFnZXMuT05MSU5FXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnYnVzeScsXG4gICAgICBpY29uUGF0aDogdGhpcy5pbWFnZXMuQlVTWVxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2ludmlzaWJsZScsXG4gICAgICBpY29uUGF0aDogdGhpcy5pbWFnZXMuSU5WSVNJQkxFXG4gICAgfSxcbiAgXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGtleWNsb2FrOiBLZXljbG9ha1NlcnZpY2UsXG4gICAgcHJpdmF0ZSB0cmFuc2xhdGVTZXJ2aWNlOiBUcmFuc2xhdGVTZXJ2aWNlLFxuICAgIHByaXZhdGUgYXV0aDogQXV0aFNlcnZpY2UsXG4gICAgcHJpdmF0ZSB3ZWJTb2NrZXQ6IFdlYlNvY2tldFNlcnZpY2UsXG4gICAgcHJpdmF0ZSB1c2VyU2VydmljZTogVXNlclNlcnZpY2UsXG4gICAgcHJpdmF0ZSBub3RpZmljYXRpb25TZXJ2aWNlOiBOb3RpZmljYXRpb25TZXJ2aWNlLFxuICAgIEBJbmplY3QoJ1NIQVJFRF9DT05GSUcnKSBwcml2YXRlIGNvbmZpZzogU2hhcmVkQ29uZmlnXG4gICkge1xuICAgIGNvbnNvbGUubG9nKCdIZWFkZXJDb21wb25lbnQgY29zdHJ1dHRvcmUgY2hpYW1hdG8nKTtcbiAgICB0aGlzLmtleWNsb2FrTG9naW5PcHRpb25zID0ge1xuICAgICAgcmVkaXJlY3RVcmk6IHRoaXMuY29uZmlnLmxvZ2luUmVkaXJlY3RDaGF0SG9tZVBhZ2UsXG4gICAgfTtcbiAgICB0aGlzLmxhbmd1YWdlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0VuZ2xpc2gnLFxuICAgICAgICBsYW5nSWRlbnRpZmllcjogJ2VuLUVOJyxcbiAgICAgICAgZmxhZ1BhdGg6IHRoaXMuaW1hZ2VzLkVOX0VOLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0l0YWxpYW5vJyxcbiAgICAgICAgbGFuZ0lkZW50aWZpZXI6ICdpdC1JVCcsXG4gICAgICAgIGZsYWdQYXRoOiB0aGlzLmltYWdlcy5JVF9JVCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdGcmFuw6dhaXMnLFxuICAgICAgICBsYW5nSWRlbnRpZmllcjogJ2ZyLUZSJyxcbiAgICAgICAgZmxhZ1BhdGg6IHRoaXMuaW1hZ2VzLkZSX0ZSLFxuICAgICAgfVxuICAgIF0uc29ydCgpO1xuICB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5rZXljbG9hay5pc0xvZ2dlZEluKCkudGhlbihpc0xvZ2dlZEluID0+IHtcbiAgICAgIGlmIChpc0xvZ2dlZEluKSB7XG4gICAgICAgIHRoaXMua2V5Y2xvYWsubG9hZFVzZXJQcm9maWxlKCkudGhlbihwcm9maWxlID0+IHtcbiAgICAgICAgICB0aGlzLmF1dGgudXBkYXRlS2V5Y2xvYWtQcm9maWxlKHByb2ZpbGUpO1xuICAgICAgICAgIGlmICh0aGlzLnNob3dOb3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVOb3RpZmljYXRpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYXV0aC51c2VyRFRPQmVoYXZpb3JTdWJqZWN0LnN1YnNjcmliZSh7XG4gICAgICBuZXh0OiAocmVjZWl2ZWRVc2VyRFRPKSA9PiB7XG4gICAgICAgIGlmIChyZWNlaXZlZFVzZXJEVE8pIHtcbiAgICAgICAgICB0aGlzLnVzZXJEVE8gPSByZWNlaXZlZFVzZXJEVE87XG4gICAgICAgICAgaWYgKHJlY2VpdmVkVXNlckRUTy5wcm9wZXJ0aWVzRFRPPy5kZWZhdWx0TGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlU2VydmljZS51c2UocmVjZWl2ZWRVc2VyRFRPLnByb3BlcnRpZXNEVE8uZGVmYXVsdExhbmd1YWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0aGlzLnNob3dOb3RpZmljYXRpb25zKSB7XG4gICAgICB0aGlzLndlYlNvY2tldFN1YnNjcmlwdGlvbiA9IHRoaXMud2ViU29ja2V0Lm5ld05vdGlmaWNhdGlvbi5zdWJzY3JpYmUoe1xuICAgICAgICBuZXh0OiAocGluZzogYm9vbGVhbikgPT4ge1xuICAgICAgICAgIGlmIChwaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU5vdGlmaWNhdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLndlYlNvY2tldFN1YnNjcmlwdGlvbikge1xuICAgICAgdGhpcy53ZWJTb2NrZXRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGluaXRpYWxpemVOb3RpZmljYXRpb25zKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5zaG93Tm90aWZpY2F0aW9ucykgcmV0dXJuO1xuICAgIHRoaXMubm90aWZpY2F0aW9uU2VydmljZS5nZXROb3RpZmljYXRpb25zKCkuc3Vic2NyaWJlKFxuICAgICAgbm90aWZpY2F0aW9ucyA9PiB7XG4gICAgICAgIHRoaXMubGlzdE5vdGlmaWNhdGlvbnMgPSBub3RpZmljYXRpb25zIGFzIEN1c3RvbU5vdGlmaWNhdGlvbltdOztcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbnMuc29tZShub3RpZmljYXRpb24gPT4gbm90aWZpY2F0aW9uLmFwcCA9PSB0aGlzLmNvbmZpZy5hcHBJZGVudGlmaWVyKSkge1xuICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uU2VydmljZS5nZXRUb3RhbFVucmVhZE5vdGlmaWNhdGlvbkNvdW50KCkuc3Vic2NyaWJlKFxuICAgICAgICAgICAgY291bnQgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnRvdGFsVW5yZWRNZXNzYWdlc0NvdW50ID0gY291bnQ7XG4gICAgICAgICAgICAgIHRoaXMuc2V0Tm90aWZpY2F0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBzZXROb3RpZmljYXRpb24oKSB7XG4gICAgaWYgKCF0aGlzLnNob3dOb3RpZmljYXRpb25zKSByZXR1cm47XG4gICAgdGhpcy50cmFuc2Zvcm1EYXRlTm90aWZpY2F0aW9uKCk7XG4gICAgdGhpcy5jb3VudE5vdGlmaWNhdGlvbnMoKTtcbiAgfVxuXG4gIHRyYW5zZm9ybURhdGVOb3RpZmljYXRpb24oKSB7XG4gICAgY29uc3QgZGF0ZVBpcGUgPSBuZXcgRGF0ZVBpcGUoJ2VuLVVTJyk7XG4gICAgdGhpcy5saXN0Tm90aWZpY2F0aW9ucy5mb3JFYWNoKChub3RpZmljYXRpb246IEN1c3RvbU5vdGlmaWNhdGlvbikgPT5cbiAgICAgIG5vdGlmaWNhdGlvbi5zZW50QXQgPSBkYXRlUGlwZS50cmFuc2Zvcm0obm90aWZpY2F0aW9uLnNlbnRBdCwnZGQvTU0veXl5eSAtIEhIOm1tOnNzJylcbiAgICApO1xuICB9XG5cbiAgY291bnROb3RpZmljYXRpb25zKCkge1xuICAgIHRoaXMubm90aWZpY2F0aW9uc0NvdW50ID0gMDtcbiAgICB0aGlzLmxpc3ROb3RpZmljYXRpb25zLmZvckVhY2goKG5vdGlmaWNhdGlvbjogQ3VzdG9tTm90aWZpY2F0aW9uKSA9PiB7XG4gICAgICBpZiAoIW5vdGlmaWNhdGlvbi5yZWFkICYmICgobm90aWZpY2F0aW9uLmFwcCAhPSB0aGlzLmNvbmZpZy5hcHBJZGVudGlmaWVyKSB8fCAobm90aWZpY2F0aW9uLmFwcCA9PSB0aGlzLmNvbmZpZy5hcHBJZGVudGlmaWVyICYmIHRoaXMudG90YWxVbnJlZE1lc3NhZ2VzQ291bnQgIT0gMCkpKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uc0NvdW50ICs9IDE7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZWFkQWxsTm90aWZpY2F0aW9ucygpIHtcbiAgICBpZiAoIXRoaXMuc2hvd05vdGlmaWNhdGlvbnMpIHJldHVybjtcbiAgICB0aGlzLm5vdGlmaWNhdGlvblNlcnZpY2UucmVhZEFsbE5vdGlmaWNhdGlvbnMoKS5zdWJzY3JpYmUoKTtcbiAgICB0aGlzLmxpc3ROb3RpZmljYXRpb25zLmZvckVhY2gobm90aWZpY2F0aW9uID0+IG5vdGlmaWNhdGlvbi5yZWFkID0gdHJ1ZSk7XG4gICAgdGhpcy5jb3VudE5vdGlmaWNhdGlvbnMoKTtcbiAgfVxuXG4gIHVwZGF0ZU5vdGlmaWNhdGlvbnMoKSB7XG4gICAgaWYgKCF0aGlzLnNob3dOb3RpZmljYXRpb25zKSByZXR1cm47XG4gICAgdGhpcy5ub3RpZmljYXRpb25TZXJ2aWNlLmdldE5vdGlmaWNhdGlvbnMoKS5zdWJzY3JpYmUoXG4gICAgICBub3RpZmljYXRpb25zID0+IHtcbiAgICAgICAgdGhpcy5saXN0Tm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbnMgYXMgQ3VzdG9tTm90aWZpY2F0aW9uW107O1xuICAgICAgICB0aGlzLnNldE5vdGlmaWNhdGlvbigpO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICByZWFkTm90aWZpY2F0aW9uQWZ0ZXJNb3VzZVN0YW5kKGV2ZW50OiBhbnksaWQ6IG51bWJlcikge1xuICAgIGlmICghdGhpcy5zaG93Tm90aWZpY2F0aW9ucykgcmV0dXJuO1xuICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdub3RpZmljYXRpb24tdGV4dC1uZXcnKTtcbiAgICAgIHRoaXMubm90aWZpY2F0aW9uU2VydmljZS5yZWFkT25lTm90aWZpY2F0aW9uKGlkKS5zdWJzY3JpYmUoKTtcbiAgICAgIHRoaXMubGlzdE5vdGlmaWNhdGlvbnMuZm9yRWFjaCgobm90aWZpY2F0aW9uOiBDdXN0b21Ob3RpZmljYXRpb24pID0+IHtcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbi5pZCA9PSBpZCkge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbi5yZWFkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLmNvdW50Tm90aWZpY2F0aW9ucygpO1xuICAgIH0sMTAwMCk7XG4gIH1cblxuICBhYm9ydFJlYWROb3RpZmljYXRpb25BZnRlck1vdXNlU3RhbmQoKSB7XG4gICAgaWYgKCF0aGlzLnNob3dOb3RpZmljYXRpb25zKSByZXR1cm47XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuICB9XG5cbiAgcmVkaXJlY3Qobm90aWZpY2F0aW9uOiBDdXN0b21Ob3RpZmljYXRpb24pIHtcbiAgICBpZiAoIXRoaXMuc2hvd05vdGlmaWNhdGlvbnMpIHJldHVybjtcbiAgICBpZiAobm90aWZpY2F0aW9uLmFwcCA9PSB0aGlzLmNvbmZpZy5hcHBJZGVudGlmaWVyICYmIHRoaXMucHJvcGVydGllcz8uY2hhdFVybCkge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB0aGlzLnByb3BlcnRpZXMuY2hhdFVybDtcbiAgICB9XG4gIH1cblxuICBsb2dpbigpIHtcbiAgICB0aGlzLmtleWNsb2FrLmxvZ2luKHRoaXMua2V5Y2xvYWtMb2dpbk9wdGlvbnMpO1xuICB9XG5cbiAgbG9nb3V0KCk6IHZvaWQge1xuICAgIHRoaXMud2ViU29ja2V0LmRpc2Nvbm5lY3QoKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMua2V5Y2xvYWsubG9nb3V0KHRoaXMuY29uZmlnLnJlZGlyZWN0VXJpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNoYW5nZUxhbmd1YWdlKGxhbmc6IHN0cmluZykge1xuICAgIHRoaXMudHJhbnNsYXRlU2VydmljZS51c2UobGFuZyk7XG4gIH1cblxuICB1cGRhdGVTdGF0dXMoc3RhdHVzOiBzdHJpbmcpIHtcbiAgICB0aGlzLnVzZXJTZXJ2aWNlLnVwZGF0ZVN0YXR1cyhzdGF0dXMpLnN1YnNjcmliZSh7XG4gICAgICBuZXh0OiAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlICYmIHRoaXMudXNlckRUTykge1xuICAgICAgICAgIHRoaXMudXNlckRUTy5wcm9wZXJ0aWVzRFRPIS5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgICAgdGhpcy5hdXRoLnVzZXJEVE9CZWhhdmlvclN1YmplY3QubmV4dCh0aGlzLnVzZXJEVE8pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59IiwiPG5hdiBjbGFzcz1cIm5hdmJhciBuYXZiYXItZXhwYW5kLXhsXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyLWZsdWlkXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm5hdmJhci1icmFuZFwiPlxyXG4gICAgICAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly9kb2Ntb24ucGNjdWJlLmNvbS9wb3J0YWxcIj5cclxuICAgICAgICAgICAgICAgIDxpbWcgYWx0PVwiY3ViZVBvcnRhbExvZ29cIiBjbGFzcz1cImhvbWVcIiBbc3JjXT1cImljb25Mb2dvXCI+XHJcbiAgICAgICAgICAgIDwvYT5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm5hdmJhci1icmFuZFwiPlxyXG4gICAgICAgICAgICA8aW1nIGFsdD1cImN1YmUgcG9ydGFsIGxvZ29cIiByb3V0ZXJMaW5rPVwiL1wiIHN0eWxlPVwiY3Vyc29yOnBvaW50ZXI7IHdpZHRoOiAyNzVweDsgaGVpZ2h0OiA1MHB4O1wiXHJcbiAgICAgICAgICAgICAgICBbc3JjXT1cImJpZ0xvZ29cIj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm5hdmJhci10b2dnbGVyIHNoYWRvdy1ub25lXCIgKGNsaWNrKT1cImlzTmF2YmFyQ29sbGFwc2VkID0gIWlzTmF2YmFyQ29sbGFwc2VkXCI+XHJcbiAgICAgICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgICAgICAgPGltZyBhbHQ9XCJuYXZiYXIgdG9nZ2xlclwiIFtzcmNdPVwiaW1hZ2VzLk5BVkJBUl9UT0dHTEVSXCI+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbGxhcHNlIG5hdmJhci1jb2xsYXBzZSBqdXN0aWZ5LWNvbnRlbnQtZW5kXCIgW25nYkNvbGxhcHNlXT1cImlzTmF2YmFyQ29sbGFwc2VkXCI+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzcz1cImxpc3QtZ3JvdXAgbGlzdC1ncm91cC1ob3Jpem9udGFsIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8bGkgKm5nSWY9XCJpc05hdmJhckNvbGxhcHNlZFwiIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5hdi1saW5rIHVzZXItbWVudVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7e3VzZXJEVE8/Lm5hbWV9fSB7e3VzZXJEVE8/LnN1cm5hbWV9fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuXHJcbiAgICAgICAgICAgICAgICA8bGkgKm5nSWY9XCJ1c2VyRFRPXCIgbmdiRHJvcGRvd24gY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nYkRyb3Bkb3duIGNsYXNzPVwiZHJvcGRvd25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZ2JEcm9wZG93blRvZ2dsZSBjbGFzcz1cInVzZXItbWVudVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBhbHQ9XCJ1c2VyIHN0YXR1c1wiIHNyYz1cImFzc2V0cy9pbWFnZXMve3sgdXNlckRUTyEucHJvcGVydGllc0RUTyEuc3RhdHVzIH19LnBuZ1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nYkRyb3Bkb3duTWVudT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gKm5nRm9yPVwibGV0IHN0YXR1cyBvZiBzdGF0aVwiIGNsYXNzPVwiYnRuXCIgbmdiRHJvcGRvd25JdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInVwZGF0ZVN0YXR1cyhzdGF0dXMubmFtZSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwibWUtMlwiIGFsdD1cInt7c3RhdHVzLm5hbWV9fVwiIHNyYz1cInt7IHN0YXR1cy5pY29uUGF0aCB9fVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3tcImdlbmVyaWMuXCIgKyBzdGF0dXMubmFtZSB8IHRyYW5zbGF0ZX19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG5cclxuICAgICAgICAgICAgICAgIDxsaSBuZ2JEcm9wZG93biBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gKm5nSWY9XCIhdXNlckRUT1wiIGNsYXNzPVwidXNlci1tZW51XCIgKGNsaWNrKT1cImxvZ2luKClcIj57eydMb2dpbid9fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJ1c2VyRFRPXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmdiRHJvcGRvd25Ub2dnbGUgY2xhc3M9XCJ1c2VyLW1lbnVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgYWx0PVwicHJvZmlsZVBpY3R1cmVcIiBjbGFzcz1cInJvdW5kZWQtNVwiIHNyYz1cInt7dXNlckRUTy5wcm9wZXJ0aWVzRFRPPy5wcm9maWxlUGljdHVyZX19XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjMyXCIgaGVpZ2h0PVwiMzJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmdiRHJvcGRvd25NZW51IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZ2JEcm9wZG93bkl0ZW0gcm91dGVyTGluaz1cIi9wcm9maWxlXCI+e3tcImdlbmVyaWMucHJvZmlsZVwifHRyYW5zbGF0ZX19PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG5nYkRyb3Bkb3duSXRlbSAoY2xpY2spPVwibG9nb3V0KClcIj57eydMb2dvdXQnfX08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG5cclxuICAgICAgICAgICAgICAgIDwhLS0gTm90aWZpY2F0aW9ucyBNZW51IC0gT25seSBzaG93biB3aGVuIHNob3dOb3RpZmljYXRpb25zIGlzIHRydWUgLS0+XHJcbiAgICAgICAgICAgICAgICA8bGkgKm5nSWY9XCJzaG93Tm90aWZpY2F0aW9uc1wiIG5nYkRyb3Bkb3duIFthdXRvQ2xvc2VdPVwiZmFsc2VcIiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBkcm9wZG93blwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gYWx0PVwibm90aWZpY2F0aW9uIHRvZ2dsZVwiIG5nYkRyb3Bkb3duVG9nZ2xlIGNsYXNzPVwidXNlci1tZW51XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGhlaWdodD1cIjMycHhcIiBhbHQ9XCJub3RpZmljYXRpb24gdG9nZ2xlXCIgW3NyY109XCJpbWFnZXMuQkVMTFwiIChjbGljayk9XCJ1cGRhdGVOb3RpZmljYXRpb25zKClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwibm90aWZpY2F0aW9uc0NvdW50IT0wXCIgY2xhc3M9XCJiYWRnZVwiPnt7bm90aWZpY2F0aW9uc0NvdW50fX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgbmdiRHJvcGRvd25NZW51IGNsYXNzPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LWVuZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG5nYkRyb3Bkb3duSXRlbSBjbGFzcz1cIlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZHJvcGRvd24taXRlbSBwLTBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlckxpbms9XCIvbm90aWZpY2F0aW9uc1wiPjxzdHJvbmc+e3tcImdlbmVyaWMubm90aWZpY2F0aW9uLXdvcmRcInx0cmFuc2xhdGV9fTwvc3Ryb25nPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHN0eWxlPVwiY3Vyc29yOnBvaW50ZXJcIiBoZWlnaHQ9XCIxNnB4XCIgYWx0PVwicmVhZCBhbGwgbm90aWZpY2F0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc3JjXT1cImltYWdlcy5SRUFEX0FMTFwiIChjbGljayk9XCJyZWFkQWxsTm90aWZpY2F0aW9ucygpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgKm5nRm9yPVwibGV0IG5vdGlmaWNhdGlvbiBvZiBsaXN0Tm90aWZpY2F0aW9uc1wiIG5nYkRyb3Bkb3duSXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgW25nQ2xhc3NdPVwibm90aWZpY2F0aW9uLnJlYWQgPyAnY29sLTEyJyA6ICdjb2wtMTAnXCIgY2xhc3M9XCJjb2xcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCIhbm90aWZpY2F0aW9uLnJlYWQgJiYgKChub3RpZmljYXRpb24uYXBwIT0nQ2hhdCcpIHx8IChub3RpZmljYXRpb24uYXBwPT0nQ2hhdCcgJiYgdG90YWxVbnJlZE1lc3NhZ2VzQ291bnQhPTApKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJub3RpZmljYXRpb24tdGV4dCBub3RpZmljYXRpb24tdGV4dC1uZXdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtb3VzZWVudGVyKT1cInJlYWROb3RpZmljYXRpb25BZnRlck1vdXNlU3RhbmQoJGV2ZW50LCBub3RpZmljYXRpb24uaWQpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobW91c2VsZWF2ZSk9XCJhYm9ydFJlYWROb3RpZmljYXRpb25BZnRlck1vdXNlU3RhbmQoKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInJlZGlyZWN0KG5vdGlmaWNhdGlvbilcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cIm5vdGlmaWNhdGlvbi5hcHAgPT0gJ0NoYXQnID8gJ2NsaWNrYWJsZScgOiBudWxsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwibXktYXV0b1wiPnt7bm90aWZpY2F0aW9uLnNlbnRBdH19OjwvaDU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJub3RpZmljYXRpb24uYXBwID09ICdDaGF0J1wiPnt7dG90YWxVbnJlZE1lc3NhZ2VzQ291bnR9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7e25vdGlmaWNhdGlvbi5tZXNzYWdlIHwgdHJhbnNsYXRlfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgY2xhc3M9XCJkcm9wZG93bi1kaXZpZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJub3RpZmljYXRpb24ucmVhZCAmJiAoKG5vdGlmaWNhdGlvbi5hcHAhPSdDaGF0JykgfHwgKG5vdGlmaWNhdGlvbi5hcHA9PSdDaGF0JyAmJiB0b3RhbFVucmVkTWVzc2FnZXNDb3VudCE9MCkpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm5vdGlmaWNhdGlvbi10ZXh0IHRleHQtbXV0ZWRcIiAoY2xpY2spPVwicmVkaXJlY3Qobm90aWZpY2F0aW9uKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwibm90aWZpY2F0aW9uLmFwcCA9PSAnQ2hhdCcgPyAnY2xpY2thYmxlJyA6IG51bGxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJteS1hdXRvXCI+e3tub3RpZmljYXRpb24uc2VudEF0fX06PC9oNT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cIm5vdGlmaWNhdGlvbi5hcHAgPT0gJ0NoYXQnXCI+e3t0b3RhbFVucmVkTWVzc2FnZXNDb3VudH19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7bm90aWZpY2F0aW9uLm1lc3NhZ2UgfCB0cmFuc2xhdGV9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxociBjbGFzcz1cImRyb3Bkb3duLWRpdmlkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cIiFub3RpZmljYXRpb24ucmVhZCAmJiAoKG5vdGlmaWNhdGlvbi5hcHAhPSdDaGF0JykgfHwgKG5vdGlmaWNhdGlvbi5hcHA9PSdDaGF0JyAmJiB0b3RhbFVucmVkTWVzc2FnZXNDb3VudCE9MCkpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgW3NyY109XCJpbWFnZXMuRU5WRUxPUEVcIiBhbHQ9XCJlbnZlbG9wZSBpY29uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcblxyXG4gICAgICAgICAgICAgICAgPGxpIG5nYkRyb3Bkb3duIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZ2JEcm9wZG93blRvZ2dsZSBjbGFzcz1cInVzZXItbWVudVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGFsdD1cImxhbmd1YWdlIGZsYWdcIiBzcmM9J3t7XCJsYW5nLmZsYWctcGljdHVyZVwifHRyYW5zbGF0ZX19Jz5cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nYkRyb3Bkb3duTWVudSBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiAqbmdGb3I9XCJsZXQgbGFuZ3VhZ2Ugb2YgbGFuZ3VhZ2VzXCIgbmdiRHJvcGRvd25JdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiY2hhbmdlTGFuZ3VhZ2UobGFuZ3VhZ2UubGFuZ0lkZW50aWZpZXIpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGFsdD1cImxhbmd1YWdlIGZsYWdcIiBzcmM9J3t7bGFuZ3VhZ2UuZmxhZ1BhdGh9fSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgPC91bD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L25hdj4iXX0=