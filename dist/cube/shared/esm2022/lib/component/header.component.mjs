import { Component, Inject, Input } from '@angular/core';
import { faCube } from '@fortawesome/free-solid-svg-icons';
import { DatePipe } from '@angular/common';
import { IMAGES } from '../constants/image-constants';
import * as i0 from "@angular/core";
import * as i1 from "keycloak-angular";
import * as i2 from "@ngx-translate/core";
import * as i3 from "../services/auth/auth.service";
import * as i4 from "../services/websocket/websocket.service";
import * as i5 from "../services/user/user.service";
import * as i6 from "../services/notification/notification.service";
import * as i7 from "@angular/common";
import * as i8 from "@ng-bootstrap/ng-bootstrap";
import * as i9 from "@angular/router";
export class HeaderComponent {
    constructor(keycloak, translateService, auth, webSocket, userService, notificationService, config) {
        this.keycloak = keycloak;
        this.translateService = translateService;
        this.auth = auth;
        this.webSocket = webSocket;
        this.userService = userService;
        this.notificationService = notificationService;
        this.config = config;
        this.showNotifications = false;
        //valori di default per i loghi
        /**
         * va passato il path dell'immagine nel selector del component padre
         * per es.
         * <cube-header
         * cubeLogo="assets/images/your-cube-logo.png"
         * portalLogo="assets/images/your-portal-logo.png">
         * </cube-header>
        */
        this.iconLogo = 'assets/images/pccube-solo-cubo.png'; // valore di default
        this.bigLogo = 'assets/images/cube-portal-logo1.png'; // valore di default
        this.images = IMAGES;
        this.imgSrc = 'assets/images/profile.jpg';
        this.icon = faCube;
        this.languages = [];
        this.isNavbarCollapsed = true;
        this.listNotifications = [];
        this.notificationsCount = 0;
        this.totalUnredMessagesCount = 0;
        this.stati = [
            {
                name: 'online',
                iconPath: this.images.ONLINE
            },
            {
                name: 'busy',
                iconPath: this.images.BUSY
            },
            {
                name: 'invisible',
                iconPath: this.images.INVISIBLE
            },
        ];
        console.log('HeaderComponent costruttore chiamato');
        this.keycloakLoginOptions = {
            redirectUri: this.config.loginRedirectChatHomePage,
        };
        this.languages = [
            {
                name: 'English',
                langIdentifier: 'en-EN',
                flagPath: this.images.EN_EN,
            },
            {
                name: 'Italiano',
                langIdentifier: 'it-IT',
                flagPath: this.images.IT_IT,
            },
            {
                name: 'Français',
                langIdentifier: 'fr-FR',
                flagPath: this.images.FR_FR,
            }
        ].sort();
    }
    ngOnInit() {
        this.keycloak.isLoggedIn().then(isLoggedIn => {
            if (isLoggedIn) {
                this.keycloak.loadUserProfile().then(profile => {
                    this.auth.updateKeycloakProfile(profile);
                    if (this.showNotifications) {
                        this.initializeNotifications();
                    }
                });
            }
        });
        this.auth.userDTOBehaviorSubject.subscribe({
            next: (receivedUserDTO) => {
                if (receivedUserDTO) {
                    this.userDTO = receivedUserDTO;
                    if (receivedUserDTO.propertiesDTO?.defaultLanguage) {
                        this.translateService.use(receivedUserDTO.propertiesDTO.defaultLanguage);
                    }
                }
            }
        });
        if (this.showNotifications) {
            this.webSocketSubscription = this.webSocket.newNotification.subscribe({
                next: (ping) => {
                    if (ping) {
                        this.updateNotifications();
                    }
                }
            });
        }
    }
    ngOnDestroy() {
        if (this.webSocketSubscription) {
            this.webSocketSubscription.unsubscribe();
        }
        if (this.timer) {
            clearTimeout(this.timer);
        }
    }
    initializeNotifications() {
        if (!this.showNotifications)
            return;
        this.notificationService.getNotifications().subscribe(notifications => {
            this.listNotifications = notifications;
            ;
            if (notifications.some(notification => notification.app == this.config.appIdentifier)) {
                this.notificationService.getTotalUnreadNotificationCount().subscribe(count => {
                    this.totalUnredMessagesCount = count;
                    this.setNotification();
                });
            }
        });
    }
    setNotification() {
        if (!this.showNotifications)
            return;
        this.transformDateNotification();
        this.countNotifications();
    }
    transformDateNotification() {
        const datePipe = new DatePipe('en-US');
        this.listNotifications.forEach((notification) => notification.sentAt = datePipe.transform(notification.sentAt, 'dd/MM/yyyy - HH:mm:ss'));
    }
    countNotifications() {
        this.notificationsCount = 0;
        this.listNotifications.forEach((notification) => {
            if (!notification.read && ((notification.app != this.config.appIdentifier) || (notification.app == this.config.appIdentifier && this.totalUnredMessagesCount != 0))) {
                this.notificationsCount += 1;
            }
        });
    }
    readAllNotifications() {
        if (!this.showNotifications)
            return;
        this.notificationService.readAllNotifications().subscribe();
        this.listNotifications.forEach(notification => notification.read = true);
        this.countNotifications();
    }
    updateNotifications() {
        if (!this.showNotifications)
            return;
        this.notificationService.getNotifications().subscribe(notifications => {
            this.listNotifications = notifications;
            ;
            this.setNotification();
        });
    }
    readNotificationAfterMouseStand(event, id) {
        if (!this.showNotifications)
            return;
        this.timer = setTimeout(() => {
            event.target.classList.remove('notification-text-new');
            this.notificationService.readOneNotification(id).subscribe();
            this.listNotifications.forEach((notification) => {
                if (notification.id == id) {
                    notification.read = true;
                }
            });
            this.countNotifications();
        }, 1000);
    }
    abortReadNotificationAfterMouseStand() {
        if (!this.showNotifications)
            return;
        clearTimeout(this.timer);
    }
    redirect(notification) {
        if (!this.showNotifications)
            return;
        if (notification.app == this.config.appIdentifier && this.properties?.chatUrl) {
            window.location.href = this.properties.chatUrl;
        }
    }
    login() {
        this.keycloak.login(this.keycloakLoginOptions);
    }
    logout() {
        this.webSocket.disconnect().then(() => {
            this.keycloak.logout(this.config.redirectUri);
        });
    }
    changeLanguage(lang) {
        this.translateService.use(lang);
    }
    updateStatus(status) {
        this.userService.updateStatus(status).subscribe({
            next: (response) => {
                if (response && this.userDTO) {
                    this.userDTO.propertiesDTO.status = status;
                    this.auth.userDTOBehaviorSubject.next(this.userDTO);
                }
            },
        });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: HeaderComponent, deps: [{ token: i1.KeycloakService }, { token: i2.TranslateService }, { token: i3.AuthService }, { token: i4.WebSocketService }, { token: i5.UserService }, { token: i6.NotificationService }, { token: 'SHARED_CONFIG' }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: HeaderComponent, selector: "cube-header", inputs: { properties: "properties", showNotifications: "showNotifications", iconLogo: "iconLogo", bigLogo: "bigLogo" }, ngImport: i0, template: "<nav class=\"navbar navbar-expand-xl\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"navbar-brand\">\r\n            <a href=\"https://docmon.pccube.com/portal\">\r\n                <img alt=\"cubePortalLogo\" class=\"home\" [src]=\"iconLogo\">\r\n            </a>\r\n        </div>\r\n\r\n        <div class=\"navbar-brand\">\r\n            <img alt=\"cube portal logo\" routerLink=\"/\" style=\"cursor:pointer; width: 275px; height: 50px;\"\r\n                [src]=\"bigLogo\">\r\n        </div>\r\n\r\n        <button class=\"navbar-toggler shadow-none\" (click)=\"isNavbarCollapsed = !isNavbarCollapsed\">\r\n            <span>\r\n                <img alt=\"navbar toggler\" [src]=\"images.NAVBAR_TOGGLER\">\r\n            </span>\r\n        </button>\r\n\r\n        <div class=\"collapse navbar-collapse justify-content-end\" [ngbCollapse]=\"isNavbarCollapsed\">\r\n            <ul class=\"list-group list-group-horizontal align-items-center justify-content-center\">\r\n                <li *ngIf=\"isNavbarCollapsed\" class=\"list-group-item\">\r\n                    <div class=\"nav-link user-menu\">\r\n                        {{userDTO?.name}} {{userDTO?.surname}}\r\n                    </div>\r\n                </li>\r\n\r\n                <li *ngIf=\"userDTO\" ngbDropdown class=\"list-group-item\">\r\n                    <div ngbDropdown class=\"dropdown\">\r\n                        <button ngbDropdownToggle class=\"user-menu\">\r\n                            <img alt=\"user status\" src=\"assets/images/{{ userDTO!.propertiesDTO!.status }}.png\" />\r\n                        </button>\r\n                        <div ngbDropdownMenu>\r\n                            <button *ngFor=\"let status of stati\" class=\"btn\" ngbDropdownItem\r\n                                (click)=\"updateStatus(status.name)\">\r\n                                <img class=\"me-2\" alt=\"{{status.name}}\" src=\"{{ status.iconPath }}\" />\r\n                                {{\"generic.\" + status.name | translate}}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n\r\n                <li ngbDropdown class=\"list-group-item\">\r\n                    <button *ngIf=\"!userDTO\" class=\"user-menu\" (click)=\"login()\">{{'Login'}}</button>\r\n                    <div *ngIf=\"userDTO\">\r\n                        <button ngbDropdownToggle class=\"user-menu\">\r\n                            <img alt=\"profilePicture\" class=\"rounded-5\" src=\"{{userDTO.propertiesDTO?.profilePicture}}\"\r\n                                width=\"32\" height=\"32\">\r\n                        </button>\r\n                        <div ngbDropdownMenu class=\"dropdown-menu\">\r\n                            <button ngbDropdownItem routerLink=\"/profile\">{{\"generic.profile\"|translate}}</button>\r\n                            <button ngbDropdownItem (click)=\"logout()\">{{'Logout'}}</button>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n\r\n                <!-- Notifications Menu - Only shown when showNotifications is true -->\r\n                <li *ngIf=\"showNotifications\" ngbDropdown [autoClose]=\"false\" class=\"list-group-item dropdown\">\r\n                    <div>\r\n                        <button alt=\"notification toggle\" ngbDropdownToggle class=\"user-menu\">\r\n                            <img height=\"32px\" alt=\"notification toggle\" [src]=\"images.BELL\" (click)=\"updateNotifications()\">\r\n                            <span *ngIf=\"notificationsCount!=0\" class=\"badge\">{{notificationsCount}}</span>\r\n                        </button>\r\n                        <ul ngbDropdownMenu class=\"dropdown-menu dropdown-menu-end\">\r\n                            <li ngbDropdownItem class=\"\">\r\n                                <div class=\"row d-flex justify-content-between align-items-center\">\r\n                                    <div class=\"col-10\">\r\n                                        <button class=\"dropdown-item p-0\"\r\n                                            routerLink=\"/notifications\"><strong>{{\"generic.notification-word\"|translate}}</strong></button>\r\n                                    </div>\r\n                                    <div class=\"col-2\">\r\n                                        <img style=\"cursor:pointer\" height=\"16px\" alt=\"read all notification\"\r\n                                            [src]=\"images.READ_ALL\" (click)=\"readAllNotifications()\">\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n\r\n                            <li *ngFor=\"let notification of listNotifications\" ngbDropdownItem>\r\n                                <div class=\"row\">\r\n                                    <div [ngClass]=\"notification.read ? 'col-12' : 'col-10'\" class=\"col\">\r\n                                        <div *ngIf=\"!notification.read && ((notification.app!='Chat') || (notification.app=='Chat' && totalUnredMessagesCount!=0))\"\r\n                                            class=\"notification-text notification-text-new\"\r\n                                            (mouseenter)=\"readNotificationAfterMouseStand($event, notification.id)\"\r\n                                            (mouseleave)=\"abortReadNotificationAfterMouseStand()\"\r\n                                            (click)=\"redirect(notification)\"\r\n                                            [ngClass]=\"notification.app == 'Chat' ? 'clickable' : null\">\r\n                                            <h5 class=\"my-auto\">{{notification.sentAt}}:</h5>\r\n                                            <span *ngIf=\"notification.app == 'Chat'\">{{totalUnredMessagesCount}}</span>\r\n                                            {{notification.message | translate}}\r\n                                            <hr class=\"dropdown-divider\">\r\n                                        </div>\r\n                                        <div *ngIf=\"notification.read && ((notification.app!='Chat') || (notification.app=='Chat' && totalUnredMessagesCount!=0))\"\r\n                                            class=\"notification-text text-muted\" (click)=\"redirect(notification)\"\r\n                                            [ngClass]=\"notification.app == 'Chat' ? 'clickable' : null\">\r\n                                            <h5 class=\"my-auto\">{{notification.sentAt}}:</h5>\r\n                                            <span *ngIf=\"notification.app == 'Chat'\">{{totalUnredMessagesCount}}</span>\r\n                                            {{notification.message | translate}}\r\n                                            <hr class=\"dropdown-divider\">\r\n                                        </div>\r\n                                    </div>\r\n                                    <div *ngIf=\"!notification.read && ((notification.app!='Chat') || (notification.app=='Chat' && totalUnredMessagesCount!=0))\"\r\n                                        class=\"col-2\">\r\n                                        <img [src]=\"images.ENVELOPE\" alt=\"envelope icon\">\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </li>\r\n\r\n                <li ngbDropdown class=\"list-group-item\">\r\n                    <button ngbDropdownToggle class=\"user-menu\">\r\n                        <img alt=\"language flag\" src='{{\"lang.flag-picture\"|translate}}'>\r\n                    </button>\r\n                    <div ngbDropdownMenu class=\"dropdown-menu\">\r\n                        <button *ngFor=\"let language of languages\" ngbDropdownItem\r\n                            (click)=\"changeLanguage(language.langIdentifier)\">\r\n                            <img alt=\"language flag\" src='{{language.flagPath}}'>\r\n                        </button>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</nav>", styles: ["div.container-fluid{background:#130044;box-shadow:0 10px 50px #13004440;border-radius:.625rem;margin:1.125rem 1.25rem 0rem;min-height:5.813rem;height:100px}.navbar-brand{position:relative;left:50%;transform:translate(-50%);display:block}li.list-group-item{background:transparent;border:none}.dropdown-menu{border-radius:.625rem;min-width:inherit;padding:.25rem}button:hover,li.dropdown-item{background-color:transparent}.user-menu{border:none;background:transparent;color:#fff;white-space:nowrap}img.rounded-5{object-fit:cover}.badge{background-color:#fff;color:#130044}.dropdown-notification-toggle{color:#130044}.notification-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:21rem}.notification-text-new{color:#130044}ul.dropdown-menu{min-width:15rem;max-height:10rem;overflow-y:auto}li:active{color:#130044}hr.dropdown-divider{margin:auto;margin-top:.125rem;margin-bottom:.125rem}.home{position:absolute;left:-800px;top:-5px;height:25px;width:25px}\n"], dependencies: [{ kind: "directive", type: i7.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i7.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i7.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i8.NgbCollapse, selector: "[ngbCollapse]", inputs: ["animation", "ngbCollapse", "horizontal"], outputs: ["ngbCollapseChange", "shown", "hidden"], exportAs: ["ngbCollapse"] }, { kind: "directive", type: i8.NgbDropdown, selector: "[ngbDropdown]", inputs: ["autoClose", "dropdownClass", "open", "placement", "popperOptions", "container", "display"], outputs: ["openChange"], exportAs: ["ngbDropdown"] }, { kind: "directive", type: i8.NgbDropdownToggle, selector: "[ngbDropdownToggle]" }, { kind: "directive", type: i8.NgbDropdownMenu, selector: "[ngbDropdownMenu]" }, { kind: "directive", type: i8.NgbDropdownItem, selector: "[ngbDropdownItem]", inputs: ["disabled"] }, { kind: "directive", type: i9.RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "pipe", type: i2.TranslatePipe, name: "translate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: HeaderComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cube-header', template: "<nav class=\"navbar navbar-expand-xl\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"navbar-brand\">\r\n            <a href=\"https://docmon.pccube.com/portal\">\r\n                <img alt=\"cubePortalLogo\" class=\"home\" [src]=\"iconLogo\">\r\n            </a>\r\n        </div>\r\n\r\n        <div class=\"navbar-brand\">\r\n            <img alt=\"cube portal logo\" routerLink=\"/\" style=\"cursor:pointer; width: 275px; height: 50px;\"\r\n                [src]=\"bigLogo\">\r\n        </div>\r\n\r\n        <button class=\"navbar-toggler shadow-none\" (click)=\"isNavbarCollapsed = !isNavbarCollapsed\">\r\n            <span>\r\n                <img alt=\"navbar toggler\" [src]=\"images.NAVBAR_TOGGLER\">\r\n            </span>\r\n        </button>\r\n\r\n        <div class=\"collapse navbar-collapse justify-content-end\" [ngbCollapse]=\"isNavbarCollapsed\">\r\n            <ul class=\"list-group list-group-horizontal align-items-center justify-content-center\">\r\n                <li *ngIf=\"isNavbarCollapsed\" class=\"list-group-item\">\r\n                    <div class=\"nav-link user-menu\">\r\n                        {{userDTO?.name}} {{userDTO?.surname}}\r\n                    </div>\r\n                </li>\r\n\r\n                <li *ngIf=\"userDTO\" ngbDropdown class=\"list-group-item\">\r\n                    <div ngbDropdown class=\"dropdown\">\r\n                        <button ngbDropdownToggle class=\"user-menu\">\r\n                            <img alt=\"user status\" src=\"assets/images/{{ userDTO!.propertiesDTO!.status }}.png\" />\r\n                        </button>\r\n                        <div ngbDropdownMenu>\r\n                            <button *ngFor=\"let status of stati\" class=\"btn\" ngbDropdownItem\r\n                                (click)=\"updateStatus(status.name)\">\r\n                                <img class=\"me-2\" alt=\"{{status.name}}\" src=\"{{ status.iconPath }}\" />\r\n                                {{\"generic.\" + status.name | translate}}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n\r\n                <li ngbDropdown class=\"list-group-item\">\r\n                    <button *ngIf=\"!userDTO\" class=\"user-menu\" (click)=\"login()\">{{'Login'}}</button>\r\n                    <div *ngIf=\"userDTO\">\r\n                        <button ngbDropdownToggle class=\"user-menu\">\r\n                            <img alt=\"profilePicture\" class=\"rounded-5\" src=\"{{userDTO.propertiesDTO?.profilePicture}}\"\r\n                                width=\"32\" height=\"32\">\r\n                        </button>\r\n                        <div ngbDropdownMenu class=\"dropdown-menu\">\r\n                            <button ngbDropdownItem routerLink=\"/profile\">{{\"generic.profile\"|translate}}</button>\r\n                            <button ngbDropdownItem (click)=\"logout()\">{{'Logout'}}</button>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n\r\n                <!-- Notifications Menu - Only shown when showNotifications is true -->\r\n                <li *ngIf=\"showNotifications\" ngbDropdown [autoClose]=\"false\" class=\"list-group-item dropdown\">\r\n                    <div>\r\n                        <button alt=\"notification toggle\" ngbDropdownToggle class=\"user-menu\">\r\n                            <img height=\"32px\" alt=\"notification toggle\" [src]=\"images.BELL\" (click)=\"updateNotifications()\">\r\n                            <span *ngIf=\"notificationsCount!=0\" class=\"badge\">{{notificationsCount}}</span>\r\n                        </button>\r\n                        <ul ngbDropdownMenu class=\"dropdown-menu dropdown-menu-end\">\r\n                            <li ngbDropdownItem class=\"\">\r\n                                <div class=\"row d-flex justify-content-between align-items-center\">\r\n                                    <div class=\"col-10\">\r\n                                        <button class=\"dropdown-item p-0\"\r\n                                            routerLink=\"/notifications\"><strong>{{\"generic.notification-word\"|translate}}</strong></button>\r\n                                    </div>\r\n                                    <div class=\"col-2\">\r\n                                        <img style=\"cursor:pointer\" height=\"16px\" alt=\"read all notification\"\r\n                                            [src]=\"images.READ_ALL\" (click)=\"readAllNotifications()\">\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n\r\n                            <li *ngFor=\"let notification of listNotifications\" ngbDropdownItem>\r\n                                <div class=\"row\">\r\n                                    <div [ngClass]=\"notification.read ? 'col-12' : 'col-10'\" class=\"col\">\r\n                                        <div *ngIf=\"!notification.read && ((notification.app!='Chat') || (notification.app=='Chat' && totalUnredMessagesCount!=0))\"\r\n                                            class=\"notification-text notification-text-new\"\r\n                                            (mouseenter)=\"readNotificationAfterMouseStand($event, notification.id)\"\r\n                                            (mouseleave)=\"abortReadNotificationAfterMouseStand()\"\r\n                                            (click)=\"redirect(notification)\"\r\n                                            [ngClass]=\"notification.app == 'Chat' ? 'clickable' : null\">\r\n                                            <h5 class=\"my-auto\">{{notification.sentAt}}:</h5>\r\n                                            <span *ngIf=\"notification.app == 'Chat'\">{{totalUnredMessagesCount}}</span>\r\n                                            {{notification.message | translate}}\r\n                                            <hr class=\"dropdown-divider\">\r\n                                        </div>\r\n                                        <div *ngIf=\"notification.read && ((notification.app!='Chat') || (notification.app=='Chat' && totalUnredMessagesCount!=0))\"\r\n                                            class=\"notification-text text-muted\" (click)=\"redirect(notification)\"\r\n                                            [ngClass]=\"notification.app == 'Chat' ? 'clickable' : null\">\r\n                                            <h5 class=\"my-auto\">{{notification.sentAt}}:</h5>\r\n                                            <span *ngIf=\"notification.app == 'Chat'\">{{totalUnredMessagesCount}}</span>\r\n                                            {{notification.message | translate}}\r\n                                            <hr class=\"dropdown-divider\">\r\n                                        </div>\r\n                                    </div>\r\n                                    <div *ngIf=\"!notification.read && ((notification.app!='Chat') || (notification.app=='Chat' && totalUnredMessagesCount!=0))\"\r\n                                        class=\"col-2\">\r\n                                        <img [src]=\"images.ENVELOPE\" alt=\"envelope icon\">\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </li>\r\n\r\n                <li ngbDropdown class=\"list-group-item\">\r\n                    <button ngbDropdownToggle class=\"user-menu\">\r\n                        <img alt=\"language flag\" src='{{\"lang.flag-picture\"|translate}}'>\r\n                    </button>\r\n                    <div ngbDropdownMenu class=\"dropdown-menu\">\r\n                        <button *ngFor=\"let language of languages\" ngbDropdownItem\r\n                            (click)=\"changeLanguage(language.langIdentifier)\">\r\n                            <img alt=\"language flag\" src='{{language.flagPath}}'>\r\n                        </button>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</nav>", styles: ["div.container-fluid{background:#130044;box-shadow:0 10px 50px #13004440;border-radius:.625rem;margin:1.125rem 1.25rem 0rem;min-height:5.813rem;height:100px}.navbar-brand{position:relative;left:50%;transform:translate(-50%);display:block}li.list-group-item{background:transparent;border:none}.dropdown-menu{border-radius:.625rem;min-width:inherit;padding:.25rem}button:hover,li.dropdown-item{background-color:transparent}.user-menu{border:none;background:transparent;color:#fff;white-space:nowrap}img.rounded-5{object-fit:cover}.badge{background-color:#fff;color:#130044}.dropdown-notification-toggle{color:#130044}.notification-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:21rem}.notification-text-new{color:#130044}ul.dropdown-menu{min-width:15rem;max-height:10rem;overflow-y:auto}li:active{color:#130044}hr.dropdown-divider{margin:auto;margin-top:.125rem;margin-bottom:.125rem}.home{position:absolute;left:-800px;top:-5px;height:25px;width:25px}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.KeycloakService }, { type: i2.TranslateService }, { type: i3.AuthService }, { type: i4.WebSocketService }, { type: i5.UserService }, { type: i6.NotificationService }, { type: undefined, decorators: [{
                    type: Inject,
                    args: ['SHARED_CONFIG']
                }] }]; }, propDecorators: { properties: [{
                type: Input
            }], showNotifications: [{
                type: Input
            }], iconLogo: [{
                type: Input
            }], bigLogo: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2N1YmUvc2hhcmVkL3NyYy9saWIvY29tcG9uZW50L2hlYWRlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9jdWJlL3NoYXJlZC9zcmMvbGliL2NvbXBvbmVudC9oZWFkZXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBUSxNQUFNLEVBQUMsS0FBSyxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBRXhFLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQVMzRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFM0MsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLDhCQUE4QixDQUFDOzs7Ozs7Ozs7OztBQU90RCxNQUFNLE9BQU8sZUFBZTtJQStDMUIsWUFDVSxRQUF5QixFQUN6QixnQkFBa0MsRUFDbEMsSUFBaUIsRUFDakIsU0FBMkIsRUFDM0IsV0FBd0IsRUFDeEIsbUJBQXdDLEVBQ2YsTUFBb0I7UUFON0MsYUFBUSxHQUFSLFFBQVEsQ0FBaUI7UUFDekIscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFrQjtRQUNsQyxTQUFJLEdBQUosSUFBSSxDQUFhO1FBQ2pCLGNBQVMsR0FBVCxTQUFTLENBQWtCO1FBQzNCLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBQ3hCLHdCQUFtQixHQUFuQixtQkFBbUIsQ0FBcUI7UUFDZixXQUFNLEdBQU4sTUFBTSxDQUFjO1FBcEQ5QyxzQkFBaUIsR0FBWSxLQUFLLENBQUM7UUFDNUMsK0JBQStCO1FBQy9COzs7Ozs7O1VBT0U7UUFDTyxhQUFRLEdBQVcsb0NBQW9DLENBQUMsQ0FBQyxvQkFBb0I7UUFDN0UsWUFBTyxHQUFXLHFDQUFxQyxDQUFDLENBQUMsb0JBQW9CO1FB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InNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCxPbkluaXQsSW5qZWN0LElucHV0LE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVHJhbnNsYXRlU2VydmljZSB9IGZyb20gJ0BuZ3gtdHJhbnNsYXRlL2NvcmUnO1xuaW1wb3J0IHsgZmFDdWJlIH0gZnJvbSAnQGZvcnRhd2Vzb21lL2ZyZWUtc29saWQtc3ZnLWljb25zJztcbmltcG9ydCB7IEtleWNsb2FrU2VydmljZSB9IGZyb20gJ2tleWNsb2FrLWFuZ3VsYXInO1xuaW1wb3J0IHsgS2V5Y2xvYWtMb2dpbk9wdGlvbnMgfSBmcm9tICdrZXljbG9hay1qcyc7XG5pbXBvcnQgeyBTaGFyZWRDb25maWcgfSBmcm9tICcuLi90eXBlcy9zaGFyZWQuaW50ZXJmYWNlJztcbmltcG9ydCB7IEF1dGhTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvYXV0aC9hdXRoLnNlcnZpY2UnO1xuaW1wb3J0IHsgVXNlclNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy91c2VyL3VzZXIuc2VydmljZSc7XG5pbXBvcnQgeyBXZWJTb2NrZXRTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvd2Vic29ja2V0L3dlYnNvY2tldC5zZXJ2aWNlJztcbmltcG9ydCB7IExhbmd1YWdlLFN0YXR1cyxVc2VyRFRPLE5vdGlmaWNhdGlvbiBhcyBDdXN0b21Ob3RpZmljYXRpb24gfSBmcm9tICcuLi90eXBlcy90eXBlcyc7XG5pbXBvcnQgeyBOb3RpZmljYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvbm90aWZpY2F0aW9uL25vdGlmaWNhdGlvbi5zZXJ2aWNlJztcbmltcG9ydCB7IERhdGVQaXBlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSU1BR0VTIH0gZnJvbSAnLi4vY29uc3RhbnRzL2ltYWdlLWNvbnN0YW50cyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2N1YmUtaGVhZGVyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2hlYWRlci5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2hlYWRlci5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIEhlYWRlckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCxPbkRlc3Ryb3kge1xuICBASW5wdXQoKSBwcm9wZXJ0aWVzOiBhbnk7XG4gIEBJbnB1dCgpIHNob3dOb3RpZmljYXRpb25zOiBib29sZWFuID0gZmFsc2U7XG4gIC8vdmFsb3JpIGRpIGRlZmF1bHQgcGVyIGkgbG9naGlcbiAgLyoqXG4gICAqIHZhIHBhc3NhdG8gaWwgcGF0aCBkZWxsJ2ltbWFnaW5lIG5lbCBzZWxlY3RvciBkZWwgY29tcG9uZW50IHBhZHJlXG4gICAqIHBlciBlcy5cbiAgICogPGN1YmUtaGVhZGVyICBcbiAgICogY3ViZUxvZ289XCJhc3NldHMvaW1hZ2VzL3lvdXItY3ViZS1sb2dvLnBuZ1wiXG4gICAqIHBvcnRhbExvZ289XCJhc3NldHMvaW1hZ2VzL3lvdXItcG9ydGFsLWxvZ28ucG5nXCI+XG4gICAqIDwvY3ViZS1oZWFkZXI+XG4gICovXG4gIEBJbnB1dCgpIGljb25Mb2dvOiBzdHJpbmcgPSAnYXNzZXRzL2ltYWdlcy9wY2N1YmUtc29sby1jdWJvLnBuZyc7IC8vIHZhbG9yZSBkaSBkZWZhdWx0XG4gIEBJbnB1dCgpIGJpZ0xvZ286IHN0cmluZyA9ICdhc3NldHMvaW1hZ2VzL2N1YmUtcG9ydGFsLWxvZ28xLnBuZyc7IC8vIHZhbG9yZSBkaSBkZWZhdWx0XG5cblxuXG4gIGltYWdlcyA9IElNQUdFUztcblxuICB1c2VyRFRPPzogVXNlckRUTztcbiAgaW1nU3JjPzogc3RyaW5nID0gJ2Fzc2V0cy9pbWFnZXMvcHJvZmlsZS5qcGcnO1xuICBpY29uID0gZmFDdWJlO1xuICBsYW5ndWFnZXM6IExhbmd1YWdlW10gPSBbXTtcbiAgaXNOYXZiYXJDb2xsYXBzZWQgPSB0cnVlO1xuICBrZXljbG9ha0xvZ2luT3B0aW9uczogS2V5Y2xvYWtMb2dpbk9wdGlvbnM7XG5cbiAgbGlzdE5vdGlmaWNhdGlvbnM6IEN1c3RvbU5vdGlmaWNhdGlvbltdID0gW107XG4gIG5vdGlmaWNhdGlvbnNDb3VudDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSB0aW1lcjogYW55O1xuICB0b3RhbFVucmVkTWVzc2FnZXNDb3VudDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSB3ZWJTb2NrZXRTdWJzY3JpcHRpb24/OiBTdWJzY3JpcHRpb247XG5cbiAgc3RhdGk6IFN0YXR1c1tdID0gW1xuICAgIHtcbiAgICAgIG5hbWU6ICdvbmxpbmUnLFxuICAgICAgaWNvblBhdGg6IHRoaXMuaW1hZ2VzLk9OTElORVxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2J1c3knLFxuICAgICAgaWNvblBhdGg6IHRoaXMuaW1hZ2VzLkJVU1lcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdpbnZpc2libGUnLFxuICAgICAgaWNvblBhdGg6IHRoaXMuaW1hZ2VzLklOVklTSUJMRVxuICAgIH0sXG4gIF07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBrZXljbG9hazogS2V5Y2xvYWtTZXJ2aWNlLFxuICAgIHByaXZhdGUgdHJhbnNsYXRlU2VydmljZTogVHJhbnNsYXRlU2VydmljZSxcbiAgICBwcml2YXRlIGF1dGg6IEF1dGhTZXJ2aWNlLFxuICAgIHByaXZhdGUgd2ViU29ja2V0OiBXZWJTb2NrZXRTZXJ2aWNlLFxuICAgIHByaXZhdGUgdXNlclNlcnZpY2U6IFVzZXJTZXJ2aWNlLFxuICAgIHByaXZhdGUgbm90aWZpY2F0aW9uU2VydmljZTogTm90aWZpY2F0aW9uU2VydmljZSxcbiAgICBASW5qZWN0KCdTSEFSRURfQ09ORklHJykgcHJpdmF0ZSBjb25maWc6IFNoYXJlZENvbmZpZ1xuICApIHtcbiAgICBjb25zb2xlLmxvZygnSGVhZGVyQ29tcG9uZW50IGNvc3RydXR0b3JlIGNoaWFtYXRvJyk7XG4gICAgdGhpcy5rZXljbG9ha0xvZ2luT3B0aW9ucyA9IHtcbiAgICAgIHJlZGlyZWN0VXJpOiB0aGlzLmNvbmZpZy5sb2dpblJlZGlyZWN0Q2hhdEhvbWVQYWdlLFxuICAgIH07XG4gICAgdGhpcy5sYW5ndWFnZXMgPSBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdFbmdsaXNoJyxcbiAgICAgICAgbGFuZ0lkZW50aWZpZXI6ICdlbi1FTicsXG4gICAgICAgIGZsYWdQYXRoOiB0aGlzLmltYWdlcy5FTl9FTixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdJdGFsaWFubycsXG4gICAgICAgIGxhbmdJZGVudGlmaWVyOiAnaXQtSVQnLFxuICAgICAgICBmbGFnUGF0aDogdGhpcy5pbWFnZXMuSVRfSVQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnRnJhbsOnYWlzJyxcbiAgICAgICAgbGFuZ0lkZW50aWZpZXI6ICdmci1GUicsXG4gICAgICAgIGZsYWdQYXRoOiB0aGlzLmltYWdlcy5GUl9GUixcbiAgICAgIH1cbiAgICBdLnNvcnQoKTtcbiAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMua2V5Y2xvYWsuaXNMb2dnZWRJbigpLnRoZW4oaXNMb2dnZWRJbiA9PiB7XG4gICAgICBpZiAoaXNMb2dnZWRJbikge1xuICAgICAgICB0aGlzLmtleWNsb2FrLmxvYWRVc2VyUHJvZmlsZSgpLnRoZW4ocHJvZmlsZSA9PiB7XG4gICAgICAgICAgdGhpcy5hdXRoLnVwZGF0ZUtleWNsb2FrUHJvZmlsZShwcm9maWxlKTtcbiAgICAgICAgICBpZiAodGhpcy5zaG93Tm90aWZpY2F0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplTm90aWZpY2F0aW9ucygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmF1dGgudXNlckRUT0JlaGF2aW9yU3ViamVjdC5zdWJzY3JpYmUoe1xuICAgICAgbmV4dDogKHJlY2VpdmVkVXNlckRUTykgPT4ge1xuICAgICAgICBpZiAocmVjZWl2ZWRVc2VyRFRPKSB7XG4gICAgICAgICAgdGhpcy51c2VyRFRPID0gcmVjZWl2ZWRVc2VyRFRPO1xuICAgICAgICAgIGlmIChyZWNlaXZlZFVzZXJEVE8ucHJvcGVydGllc0RUTz8uZGVmYXVsdExhbmd1YWdlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UudXNlKHJlY2VpdmVkVXNlckRUTy5wcm9wZXJ0aWVzRFRPLmRlZmF1bHRMYW5ndWFnZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5zaG93Tm90aWZpY2F0aW9ucykge1xuICAgICAgdGhpcy53ZWJTb2NrZXRTdWJzY3JpcHRpb24gPSB0aGlzLndlYlNvY2tldC5uZXdOb3RpZmljYXRpb24uc3Vic2NyaWJlKHtcbiAgICAgICAgbmV4dDogKHBpbmc6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICBpZiAocGluZykge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVOb3RpZmljYXRpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy53ZWJTb2NrZXRTdWJzY3JpcHRpb24pIHtcbiAgICAgIHRoaXMud2ViU29ja2V0U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplTm90aWZpY2F0aW9ucygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuc2hvd05vdGlmaWNhdGlvbnMpIHJldHVybjtcbiAgICB0aGlzLm5vdGlmaWNhdGlvblNlcnZpY2UuZ2V0Tm90aWZpY2F0aW9ucygpLnN1YnNjcmliZShcbiAgICAgIG5vdGlmaWNhdGlvbnMgPT4ge1xuICAgICAgICB0aGlzLmxpc3ROb3RpZmljYXRpb25zID0gbm90aWZpY2F0aW9ucyBhcyBDdXN0b21Ob3RpZmljYXRpb25bXTs7XG4gICAgICAgIGlmIChub3RpZmljYXRpb25zLnNvbWUobm90aWZpY2F0aW9uID0+IG5vdGlmaWNhdGlvbi5hcHAgPT0gdGhpcy5jb25maWcuYXBwSWRlbnRpZmllcikpIHtcbiAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblNlcnZpY2UuZ2V0VG90YWxVbnJlYWROb3RpZmljYXRpb25Db3VudCgpLnN1YnNjcmliZShcbiAgICAgICAgICAgIGNvdW50ID0+IHtcbiAgICAgICAgICAgICAgdGhpcy50b3RhbFVucmVkTWVzc2FnZXNDb3VudCA9IGNvdW50O1xuICAgICAgICAgICAgICB0aGlzLnNldE5vdGlmaWNhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgc2V0Tm90aWZpY2F0aW9uKCkge1xuICAgIGlmICghdGhpcy5zaG93Tm90aWZpY2F0aW9ucykgcmV0dXJuO1xuICAgIHRoaXMudHJhbnNmb3JtRGF0ZU5vdGlmaWNhdGlvbigpO1xuICAgIHRoaXMuY291bnROb3RpZmljYXRpb25zKCk7XG4gIH1cblxuICB0cmFuc2Zvcm1EYXRlTm90aWZpY2F0aW9uKCkge1xuICAgIGNvbnN0IGRhdGVQaXBlID0gbmV3IERhdGVQaXBlKCdlbi1VUycpO1xuICAgIHRoaXMubGlzdE5vdGlmaWNhdGlvbnMuZm9yRWFjaCgobm90aWZpY2F0aW9uOiBDdXN0b21Ob3RpZmljYXRpb24pID0+XG4gICAgICBub3RpZmljYXRpb24uc2VudEF0ID0gZGF0ZVBpcGUudHJhbnNmb3JtKG5vdGlmaWNhdGlvbi5zZW50QXQsJ2RkL01NL3l5eXkgLSBISDptbTpzcycpXG4gICAgKTtcbiAgfVxuXG4gIGNvdW50Tm90aWZpY2F0aW9ucygpIHtcbiAgICB0aGlzLm5vdGlmaWNhdGlvbnNDb3VudCA9IDA7XG4gICAgdGhpcy5saXN0Tm90aWZpY2F0aW9ucy5mb3JFYWNoKChub3RpZmljYXRpb246IEN1c3RvbU5vdGlmaWNhdGlvbikgPT4ge1xuICAgICAgaWYgKCFub3RpZmljYXRpb24ucmVhZCAmJiAoKG5vdGlmaWNhdGlvbi5hcHAgIT0gdGhpcy5jb25maWcuYXBwSWRlbnRpZmllcikgfHwgKG5vdGlmaWNhdGlvbi5hcHAgPT0gdGhpcy5jb25maWcuYXBwSWRlbnRpZmllciAmJiB0aGlzLnRvdGFsVW5yZWRNZXNzYWdlc0NvdW50ICE9IDApKSkge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnNDb3VudCArPSAxO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmVhZEFsbE5vdGlmaWNhdGlvbnMoKSB7XG4gICAgaWYgKCF0aGlzLnNob3dOb3RpZmljYXRpb25zKSByZXR1cm47XG4gICAgdGhpcy5ub3RpZmljYXRpb25TZXJ2aWNlLnJlYWRBbGxOb3RpZmljYXRpb25zKCkuc3Vic2NyaWJlKCk7XG4gICAgdGhpcy5saXN0Tm90aWZpY2F0aW9ucy5mb3JFYWNoKG5vdGlmaWNhdGlvbiA9PiBub3RpZmljYXRpb24ucmVhZCA9IHRydWUpO1xuICAgIHRoaXMuY291bnROb3RpZmljYXRpb25zKCk7XG4gIH1cblxuICB1cGRhdGVOb3RpZmljYXRpb25zKCkge1xuICAgIGlmICghdGhpcy5zaG93Tm90aWZpY2F0aW9ucykgcmV0dXJuO1xuICAgIHRoaXMubm90aWZpY2F0aW9uU2VydmljZS5nZXROb3RpZmljYXRpb25zKCkuc3Vic2NyaWJlKFxuICAgICAgbm90aWZpY2F0aW9ucyA9PiB7XG4gICAgICAgIHRoaXMubGlzdE5vdGlmaWNhdGlvbnMgPSBub3RpZmljYXRpb25zIGFzIEN1c3RvbU5vdGlmaWNhdGlvbltdOztcbiAgICAgICAgdGhpcy5zZXROb3RpZmljYXRpb24oKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgcmVhZE5vdGlmaWNhdGlvbkFmdGVyTW91c2VTdGFuZChldmVudDogYW55LGlkOiBudW1iZXIpIHtcbiAgICBpZiAoIXRoaXMuc2hvd05vdGlmaWNhdGlvbnMpIHJldHVybjtcbiAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnbm90aWZpY2F0aW9uLXRleHQtbmV3Jyk7XG4gICAgICB0aGlzLm5vdGlmaWNhdGlvblNlcnZpY2UucmVhZE9uZU5vdGlmaWNhdGlvbihpZCkuc3Vic2NyaWJlKCk7XG4gICAgICB0aGlzLmxpc3ROb3RpZmljYXRpb25zLmZvckVhY2goKG5vdGlmaWNhdGlvbjogQ3VzdG9tTm90aWZpY2F0aW9uKSA9PiB7XG4gICAgICAgIGlmIChub3RpZmljYXRpb24uaWQgPT0gaWQpIHtcbiAgICAgICAgICBub3RpZmljYXRpb24ucmVhZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5jb3VudE5vdGlmaWNhdGlvbnMoKTtcbiAgICB9LDEwMDApO1xuICB9XG5cbiAgYWJvcnRSZWFkTm90aWZpY2F0aW9uQWZ0ZXJNb3VzZVN0YW5kKCkge1xuICAgIGlmICghdGhpcy5zaG93Tm90aWZpY2F0aW9ucykgcmV0dXJuO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgfVxuXG4gIHJlZGlyZWN0KG5vdGlmaWNhdGlvbjogQ3VzdG9tTm90aWZpY2F0aW9uKSB7XG4gICAgaWYgKCF0aGlzLnNob3dOb3RpZmljYXRpb25zKSByZXR1cm47XG4gICAgaWYgKG5vdGlmaWNhdGlvbi5hcHAgPT0gdGhpcy5jb25maWcuYXBwSWRlbnRpZmllciAmJiB0aGlzLnByb3BlcnRpZXM/LmNoYXRVcmwpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGhpcy5wcm9wZXJ0aWVzLmNoYXRVcmw7XG4gICAgfVxuICB9XG5cbiAgbG9naW4oKSB7XG4gICAgdGhpcy5rZXljbG9hay5sb2dpbih0aGlzLmtleWNsb2FrTG9naW5PcHRpb25zKTtcbiAgfVxuXG4gIGxvZ291dCgpOiB2b2lkIHtcbiAgICB0aGlzLndlYlNvY2tldC5kaXNjb25uZWN0KCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLmtleWNsb2FrLmxvZ291dCh0aGlzLmNvbmZpZy5yZWRpcmVjdFVyaSk7XG4gICAgfSk7XG4gIH1cblxuICBjaGFuZ2VMYW5ndWFnZShsYW5nOiBzdHJpbmcpIHtcbiAgICB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UudXNlKGxhbmcpO1xuICB9XG5cbiAgdXBkYXRlU3RhdHVzKHN0YXR1czogc3RyaW5nKSB7XG4gICAgdGhpcy51c2VyU2VydmljZS51cGRhdGVTdGF0dXMoc3RhdHVzKS5zdWJzY3JpYmUoe1xuICAgICAgbmV4dDogKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZSAmJiB0aGlzLnVzZXJEVE8pIHtcbiAgICAgICAgICB0aGlzLnVzZXJEVE8ucHJvcGVydGllc0RUTyEuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgIHRoaXMuYXV0aC51c2VyRFRPQmVoYXZpb3JTdWJqZWN0Lm5leHQodGhpcy51c2VyRFRPKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufSIsIjxuYXYgY2xhc3M9XCJuYXZiYXIgbmF2YmFyLWV4cGFuZC14bFwiPlxyXG4gICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lci1mbHVpZFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJuYXZiYXItYnJhbmRcIj5cclxuICAgICAgICAgICAgPGEgaHJlZj1cImh0dHBzOi8vZG9jbW9uLnBjY3ViZS5jb20vcG9ydGFsXCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIGFsdD1cImN1YmVQb3J0YWxMb2dvXCIgY2xhc3M9XCJob21lXCIgW3NyY109XCJpY29uTG9nb1wiPlxyXG4gICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJuYXZiYXItYnJhbmRcIj5cclxuICAgICAgICAgICAgPGltZyBhbHQ9XCJjdWJlIHBvcnRhbCBsb2dvXCIgcm91dGVyTGluaz1cIi9cIiBzdHlsZT1cImN1cnNvcjpwb2ludGVyOyB3aWR0aDogMjc1cHg7IGhlaWdodDogNTBweDtcIlxyXG4gICAgICAgICAgICAgICAgW3NyY109XCJiaWdMb2dvXCI+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJuYXZiYXItdG9nZ2xlciBzaGFkb3ctbm9uZVwiIChjbGljayk9XCJpc05hdmJhckNvbGxhcHNlZCA9ICFpc05hdmJhckNvbGxhcHNlZFwiPlxyXG4gICAgICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgICAgICAgIDxpbWcgYWx0PVwibmF2YmFyIHRvZ2dsZXJcIiBbc3JjXT1cImltYWdlcy5OQVZCQVJfVE9HR0xFUlwiPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsYXBzZSBuYXZiYXItY29sbGFwc2UganVzdGlmeS1jb250ZW50LWVuZFwiIFtuZ2JDb2xsYXBzZV09XCJpc05hdmJhckNvbGxhcHNlZFwiPlxyXG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWdyb3VwIGxpc3QtZ3JvdXAtaG9yaXpvbnRhbCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGxpICpuZ0lmPVwiaXNOYXZiYXJDb2xsYXBzZWRcIiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuYXYtbGluayB1c2VyLW1lbnVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3t1c2VyRFRPPy5uYW1lfX0ge3t1c2VyRFRPPy5zdXJuYW1lfX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcblxyXG4gICAgICAgICAgICAgICAgPGxpICpuZ0lmPVwidXNlckRUT1wiIG5nYkRyb3Bkb3duIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBuZ2JEcm9wZG93biBjbGFzcz1cImRyb3Bkb3duXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmdiRHJvcGRvd25Ub2dnbGUgY2xhc3M9XCJ1c2VyLW1lbnVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgYWx0PVwidXNlciBzdGF0dXNcIiBzcmM9XCJhc3NldHMvaW1hZ2VzL3t7IHVzZXJEVE8hLnByb3BlcnRpZXNEVE8hLnN0YXR1cyB9fS5wbmdcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBuZ2JEcm9wZG93bk1lbnU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uICpuZ0Zvcj1cImxldCBzdGF0dXMgb2Ygc3RhdGlcIiBjbGFzcz1cImJ0blwiIG5nYkRyb3Bkb3duSXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJ1cGRhdGVTdGF0dXMoc3RhdHVzLm5hbWUpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cIm1lLTJcIiBhbHQ9XCJ7e3N0YXR1cy5uYW1lfX1cIiBzcmM9XCJ7eyBzdGF0dXMuaWNvblBhdGggfX1cIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7XCJnZW5lcmljLlwiICsgc3RhdHVzLm5hbWUgfCB0cmFuc2xhdGV9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuXHJcbiAgICAgICAgICAgICAgICA8bGkgbmdiRHJvcGRvd24gY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uICpuZ0lmPVwiIXVzZXJEVE9cIiBjbGFzcz1cInVzZXItbWVudVwiIChjbGljayk9XCJsb2dpbigpXCI+e3snTG9naW4nfX08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwidXNlckRUT1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG5nYkRyb3Bkb3duVG9nZ2xlIGNsYXNzPVwidXNlci1tZW51XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGFsdD1cInByb2ZpbGVQaWN0dXJlXCIgY2xhc3M9XCJyb3VuZGVkLTVcIiBzcmM9XCJ7e3VzZXJEVE8ucHJvcGVydGllc0RUTz8ucHJvZmlsZVBpY3R1cmV9fVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCIzMlwiIGhlaWdodD1cIjMyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nYkRyb3Bkb3duTWVudSBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmdiRHJvcGRvd25JdGVtIHJvdXRlckxpbms9XCIvcHJvZmlsZVwiPnt7XCJnZW5lcmljLnByb2ZpbGVcInx0cmFuc2xhdGV9fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZ2JEcm9wZG93bkl0ZW0gKGNsaWNrKT1cImxvZ291dCgpXCI+e3snTG9nb3V0J319PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9saT5cclxuXHJcbiAgICAgICAgICAgICAgICA8IS0tIE5vdGlmaWNhdGlvbnMgTWVudSAtIE9ubHkgc2hvd24gd2hlbiBzaG93Tm90aWZpY2F0aW9ucyBpcyB0cnVlIC0tPlxyXG4gICAgICAgICAgICAgICAgPGxpICpuZ0lmPVwic2hvd05vdGlmaWNhdGlvbnNcIiBuZ2JEcm9wZG93biBbYXV0b0Nsb3NlXT1cImZhbHNlXCIgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gZHJvcGRvd25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGFsdD1cIm5vdGlmaWNhdGlvbiB0b2dnbGVcIiBuZ2JEcm9wZG93blRvZ2dsZSBjbGFzcz1cInVzZXItbWVudVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBoZWlnaHQ9XCIzMnB4XCIgYWx0PVwibm90aWZpY2F0aW9uIHRvZ2dsZVwiIFtzcmNdPVwiaW1hZ2VzLkJFTExcIiAoY2xpY2spPVwidXBkYXRlTm90aWZpY2F0aW9ucygpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cIm5vdGlmaWNhdGlvbnNDb3VudCE9MFwiIGNsYXNzPVwiYmFkZ2VcIj57e25vdGlmaWNhdGlvbnNDb3VudH19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHVsIG5nYkRyb3Bkb3duTWVudSBjbGFzcz1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1lbmRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBuZ2JEcm9wZG93bkl0ZW0gY2xhc3M9XCJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gcC0wXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXJMaW5rPVwiL25vdGlmaWNhdGlvbnNcIj48c3Ryb25nPnt7XCJnZW5lcmljLm5vdGlmaWNhdGlvbi13b3JkXCJ8dHJhbnNsYXRlfX08L3N0cm9uZz48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzdHlsZT1cImN1cnNvcjpwb2ludGVyXCIgaGVpZ2h0PVwiMTZweFwiIGFsdD1cInJlYWQgYWxsIG5vdGlmaWNhdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3NyY109XCJpbWFnZXMuUkVBRF9BTExcIiAoY2xpY2spPVwicmVhZEFsbE5vdGlmaWNhdGlvbnMoKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpICpuZ0Zvcj1cImxldCBub3RpZmljYXRpb24gb2YgbGlzdE5vdGlmaWNhdGlvbnNcIiBuZ2JEcm9wZG93bkl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFtuZ0NsYXNzXT1cIm5vdGlmaWNhdGlvbi5yZWFkID8gJ2NvbC0xMicgOiAnY29sLTEwJ1wiIGNsYXNzPVwiY29sXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiIW5vdGlmaWNhdGlvbi5yZWFkICYmICgobm90aWZpY2F0aW9uLmFwcCE9J0NoYXQnKSB8fCAobm90aWZpY2F0aW9uLmFwcD09J0NoYXQnICYmIHRvdGFsVW5yZWRNZXNzYWdlc0NvdW50IT0wKSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibm90aWZpY2F0aW9uLXRleHQgbm90aWZpY2F0aW9uLXRleHQtbmV3XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobW91c2VlbnRlcik9XCJyZWFkTm90aWZpY2F0aW9uQWZ0ZXJNb3VzZVN0YW5kKCRldmVudCwgbm90aWZpY2F0aW9uLmlkKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1vdXNlbGVhdmUpPVwiYWJvcnRSZWFkTm90aWZpY2F0aW9uQWZ0ZXJNb3VzZVN0YW5kKClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJyZWRpcmVjdChub3RpZmljYXRpb24pXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJub3RpZmljYXRpb24uYXBwID09ICdDaGF0JyA/ICdjbGlja2FibGUnIDogbnVsbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cIm15LWF1dG9cIj57e25vdGlmaWNhdGlvbi5zZW50QXR9fTo8L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwibm90aWZpY2F0aW9uLmFwcCA9PSAnQ2hhdCdcIj57e3RvdGFsVW5yZWRNZXNzYWdlc0NvdW50fX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3tub3RpZmljYXRpb24ubWVzc2FnZSB8IHRyYW5zbGF0ZX19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhyIGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwibm90aWZpY2F0aW9uLnJlYWQgJiYgKChub3RpZmljYXRpb24uYXBwIT0nQ2hhdCcpIHx8IChub3RpZmljYXRpb24uYXBwPT0nQ2hhdCcgJiYgdG90YWxVbnJlZE1lc3NhZ2VzQ291bnQhPTApKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJub3RpZmljYXRpb24tdGV4dCB0ZXh0LW11dGVkXCIgKGNsaWNrKT1cInJlZGlyZWN0KG5vdGlmaWNhdGlvbilcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cIm5vdGlmaWNhdGlvbi5hcHAgPT0gJ0NoYXQnID8gJ2NsaWNrYWJsZScgOiBudWxsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwibXktYXV0b1wiPnt7bm90aWZpY2F0aW9uLnNlbnRBdH19OjwvaDU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJub3RpZmljYXRpb24uYXBwID09ICdDaGF0J1wiPnt7dG90YWxVbnJlZE1lc3NhZ2VzQ291bnR9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7e25vdGlmaWNhdGlvbi5tZXNzYWdlIHwgdHJhbnNsYXRlfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgY2xhc3M9XCJkcm9wZG93bi1kaXZpZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCIhbm90aWZpY2F0aW9uLnJlYWQgJiYgKChub3RpZmljYXRpb24uYXBwIT0nQ2hhdCcpIHx8IChub3RpZmljYXRpb24uYXBwPT0nQ2hhdCcgJiYgdG90YWxVbnJlZE1lc3NhZ2VzQ291bnQhPTApKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNvbC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIFtzcmNdPVwiaW1hZ2VzLkVOVkVMT1BFXCIgYWx0PVwiZW52ZWxvcGUgaWNvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG5cclxuICAgICAgICAgICAgICAgIDxsaSBuZ2JEcm9wZG93biBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmdiRHJvcGRvd25Ub2dnbGUgY2xhc3M9XCJ1c2VyLW1lbnVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBhbHQ9XCJsYW5ndWFnZSBmbGFnXCIgc3JjPSd7e1wibGFuZy5mbGFnLXBpY3R1cmVcInx0cmFuc2xhdGV9fSc+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBuZ2JEcm9wZG93bk1lbnUgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gKm5nRm9yPVwibGV0IGxhbmd1YWdlIG9mIGxhbmd1YWdlc1wiIG5nYkRyb3Bkb3duSXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImNoYW5nZUxhbmd1YWdlKGxhbmd1YWdlLmxhbmdJZGVudGlmaWVyKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBhbHQ9XCJsYW5ndWFnZSBmbGFnXCIgc3JjPSd7e2xhbmd1YWdlLmZsYWdQYXRofX0nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC9uYXY+Il19