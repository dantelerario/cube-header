<nav class="navbar navbar-expand-xl">
    <div class="container-fluid">

        <!-- ## NAVBAR HOME TO PORTAL ## -->
        <div class="navbar-brand">
            <a href="https://docmon.pccube.com/portal">
                <img alt="cubePortalLogo" class="home" src="assets/images/pccube-solo-cubo.png">
            </a>
        </div>

        <!-- ## NAVBAR LOGO ## -->
        <div class="navbar-brand">
            <img alt="cubeChatLogo" routerLink="/" style="cursor:pointer;width: 275px; height: 50px;"
                src="assets/images/pccube.png">
        </div>

        <!-- ## NAVBAR TOGGLER - QUANDO SCHERMO PICCOLO ## -->
        <button class="navbar-toggler shadow-none" (click)="isNavbarCollapsed = !isNavbarCollapsed">
            <span>
                <img alt="navbarToggler" src="assets/images/navbar-toggler.png">
            </span>
        </button>

        <!-- ## CORPO DELLA NAVBAR COLLASSABILE ## -->
        <div class="collapse navbar-collapse justify-content-end" [ngbCollapse]="isNavbarCollapsed">
            <!-- ## LISTA DEGLI ELEMENTI DELLA NAVBAR ## -->
            <ul class="list-group list-group-horizontal align-items-center justify-content-center">

                <!-- ## NOME E COGNOME UTENTE - SOLO TESTO ## -->
                <li *ngIf="isNavbarCollapsed" class="list-group-item">
                    <div class="nav-link user-menu">
                        {{userDTO?.name}} {{userDTO?.surname}}
                    </div>
                </li>

                <li *ngIf="userDTO" ngbDropdown class="list-group-item">
                    <div ngbDropdown class="dropdown">
                        <button ngbDropdownToggle class="user-menu">
                            <img alt="user status" src="assets/images/{{ userDTO!.propertiesDTO!.status }}.png" />
                        </button>
                        <div ngbDropdownMenu>
                            <button *ngFor="let status of stati" class="btn" ngbDropdownItem
                                (click)="updateStatus(status.name)">
                                <img class="me-2" alt="{{status.name}}" src="{{ status.iconPath }}" />
                                {{"generic." + status.name | translate}}
                            </button>
                        </div>
                    </div>
                </li>

                <!-- ## USER MENU ## -->
                <li ngbDropdown class="list-group-item">
                    <button *ngIf="!userDTO" class="user-menu" (click)="login()">{{'Login'}}</button>
                    <div *ngIf="userDTO">
                        <button ngbDropdownToggle class="user-menu">
                            <img alt="profilePicture" class="rounded-5" src="{{userDTO.propertiesDTO?.profilePicture}}"
                                width="32" height="32">
                        </button>
                        <div ngbDropdownMenu class="dropdown-menu">
                            <button ngbDropdownItem routerLink="/profile">{{"generic.profile"|translate}}</button>
                            <button ngbDropdownItem (click)="logout()">{{'Logout'}}</button>
                        </div>
                    </div>
                </li>

                <!-- ## LANGUAGE SELECTOR ## -->
                <li ngbDropdown class="list-group-item">
                    <button ngbDropdownToggle class="user-menu">
                        <!--
                            Aggiungere salvataggio a db e update
                            <img src='assets/images/{{userDto?.propertiesDTO?.defaultLanguage}}.png'>
                        -->
                        <img alt="languageFlag" src='{{"lang.flag-picture" | translate}}'>
                    </button>
                    <div ngbDropdownMenu class="dropdown-menu">
                        <button *ngFor="let language of languages" ngbDropdownItem
                            (click)="changeLanguage(language.langIdentifier)">
                            <img alt="flagLanguageDropdown" src='{{language.flagPath}}'>
                        </button>
                    </div>
                </li>

            </ul>

        </div>

    </div>
</nav>